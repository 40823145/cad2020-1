try { 


	var __IntegralASConfig = {
		jsDoSplit: false,
		debug: "false",
		jsDiag: 'false',
		version: '19.8.139',
		mtCell: 10,
		mtSample: 5,
		trackMouse: "true",
		exchList: {'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr','n37':'tjnyyrg','p39':'j55p.arg','p40':'c0l.pa','p41':'vcvalbh.pbz','p42':'c0lwferaqre'},
		sp_cdnDomain: 'cdn.adsafeprotected.com',
		sp_cdnScripts: {xsca: "static.adsafeprotected.com/xsca.17.4.85.js", sca: "static.adsafeprotected.com/sca.17.4.114.js", main: "static.adsafeprotected.com/main.19.8.139.js"},
		protocol: 'https',
		jsref: "https:\/\/d58e2b59442a5b0d38c6bd9bb476f6b0.safeframe.googlesyndication.com\/",
		asid: "428f8b37-1227-11eb-931b-0a2a04278cde",
		allowViewability: "true",
		jsFeatures: "viewabilityready,consecutive,cachebust:0,forcecocoa:0,rattie,exch,recordalternate:0,usedtdomain,nextcocoa:100,bapiDiag,cookie,postDts:0,videotwoseconds,getPl,decodePl,resolution,usetpl,tpiLookupURL,hundredpct,jloadDiag:0,blur:0,sendclogs,zeroPing,idMap,offscreen,everySecond:1,sdkdetection,moreAdTalkCalls,slid,fm2:1,largeAd,nextcocoaie:100,usevh,fxdet:0,mmsb:0,bigmon:0,chromeNativeIO:100,oddet:0,ios:100,ancestor:100,avmm:100,avgrn:100,useScreenLocationInfoAdaptor:100,swapids:100,pIntervals:10,firewall_cdn_domain,usesca:100,usexsca:1,bustediframe:100,impFailSafe:100,yieldmo:100,displayCustomView:0,sfdetect,pmdetect:100,novidnodeerr:5,diagnosticCM:0,viewabilityOptimization:100,usehaps:100,customMetric:100,sizmek,celtra,groupmCM,avidPropertiesInImpression,abcAudit,useMraidGeometricMeasurement,mrcAudit:1,bbs,bas,spg:100",
		adsafeDomain: "adsafeprotected.com:80",
		minimizeCalls: "false",
		adWidth: "300",
		adHeight: "600",
		forceAppend: "false",
		sp_imp_maxLength: 8000,
		sp_imp_jsInfo_minLength: 200,
		_onInViewMRC15: __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onInViewMRC: __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onMeasurable: __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onAPIResult: __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewFull: __IntegralASConfig && __IntegralASConfig.onInViewFull,
		_onSuspicious: __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC5: __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		reqquery: "",
		mode: "rjss",
		requrl: "",
		dtBaseURL: "https:\/\/dt.adsafeprotected.com\/dt?advEntityId=496982",
		adsafeSrc: "https:\/\/fw.adsafeprotected.com\/rfw\/bgd\/496982\/48933807\/xbbe\/creative\/adj?p=APEucNW3OO8GWvOG5uDvDtQHCXdWgVMSp2bjTodFsc2NULrYb_kRyW8&d=CnkAoCZ_4IEJ0j9dQf0agFE6OadZifNqgfZM_OWJH4-7q4JJSAjN44-mgShj930oUWzFFCfcT1ROUPTtn89d_AzRzx9-XoCSULUaWqDMd7XyLLQ-LNK5Ov_bAltPX4z23WSGJqJu32qZuU7oDa0iR3zmK-rDJsvBQ50SEpkRAKAmf-CIekcdSqXC2spbkAtzMa5wb7bDtdCrm___HyXvIagzE9EREgtuFuGsKfYJkJ6Zekctha2q0JTC46BzVL5Mu581tkkgjVpcioo1v_xjofIOdrCPe28lJ-bSk6jEVQCYy1pN8oil5JmM8gJuQJgyBQBLEuLgWsBWUwI21zbxseUQeVd12d34Y374y4ohpjadpSl-dnMc2zOTPHb6Hu2ZdH5h8olcZfD1PZxyZdMqDCII4ZE-Y_3VG3R8ZAb6nn64OTT6zL7YwirXF5ant1OvdacRGmiPpYr4kVLO-aV9kP0T4Gs9pKqSj0tvbMx7dVhn0sZZ7A5O9WRAQrzSac3I7eVTlINkjr00ImN7bIGzWUS3xD0IsbbpogFiTLL7dr_bmewn-3QHqgQnM-23haQ5MmLm6unUc011nNhVSkSbh2LYXPwlkgqEGyVcO2qNskl8LBspfzVkisLJUCKQ8IJ0Q8Ivx8MUevHOI6GSAZhLoptUdbhTZ9KnD9NNfrNxsjU41S9kCtN0Y5JTjNJ6CXtLrfhmtMtj0fPCH8Ai5dzP6Wrnm9f5t4jCBzohMGEc0m7eI4TrbpxQCrmb9pzLk60GBzdxCQji9oNmHjL2SwIuPT2ttjhVWWB7XXaiBDeEd3p51zbHqOo8pmr6D_txf8dDl_JFVW0Anavj6NVibEoz1f3PR2G3s9FAFsMEYOan6Ff7s6DmzOHgPxLgtie1mSrbytnXnnCZB-2LeeSpdA5JoiFTvpDFIgcBxiBrLZL-42OW1NafT7m117X2jWamtXkkboA2RiL_qwrrI1nB4k98wwssOdJXR8MOqlU4g1OhG9JGGdYxjwRz51yff6pMWHcLlq5tVPwW77NKtWP40tSd4jjbNxbczf1QIfranzH3iQsrlvazSXqlYz--3n63pbzkcXYAIICw0nGv5sAhPpcbLmTA80-5SbYBx5ONtkmeLkSxGJDwNIvecR4wX8_R9YNlOIhBT2Mj9Hc8-iXmyX-TJsgs6wp7Z5gDKbYzUyhhQKB3b0fn14R9IkhcTIQDckYZrlqeElVwjwFCm_nMu3--K0y1yh1HKoUFzFIlH2B-JPWZ7NOaDNfVdwdQkhzy_8Lpk1U2CCIB_JQqAYlunMTmseae4Gqxn6gdwM0lNQy2LfF7ueUwNJp9psyq3qqzDJR2ry65O6RlJfyGSIborofeMmyJ4FTZsZljCy3GRFGix5kGMJjaaEAgK7i3AgFtLRId90uNZvNu_KpLtuL-uI-238vVl4l_2jevB3SHEvsDwXT7hyC7CHQdelcYOPUMoxoF4aQzvzICQAYpPtaO2fkyPoc-hwMMU7aRZdFm2CU5ivYwWYZINeibpwJD4VmAk_Co3Ru_HvWQh1YWYtYbvIg3UYFvNtmZhyp2bmwPspn4b5AcK_xvT0Slm9drzub-UIbzDjkikdKivr2S_fLxosq5dOeMTWc-hAsXjd9yBjoJHbxFIWhbUAgS1b1_dcONY4b1UOUv1kLAhGI25GCxl8cwnB_tA8mY0qG-eidt2oeMBmjwvk7Mo-8K9f1BL-mntUb_RqD-EPT9opRFq0J0fYYcj-2kGf6XhrM6k7Rb3aRv99nxbPTB6klUp3bnaKQFhyZzuBIhE_5n38m6OyQ8OcLOpWh7wRwtPvv6nyOy1VlYYZwjjkB-ycBJW1kYyygN8t0_E3KV_44SAjBnkcYMM6V73wWI3SelA0BGgnfcVP79o_cHzd7tPGSrE4d2Xa6UkQIT76wVrx7haADuDbxPkRJHAEtqQH2fxW8RvtyfWGDImjii9ceXc1sJ5KIEg7azGKty1BQC4IVokvFOBMcmrpapTb3VT149ph6Xz1m6CFhCXRK2H5V-F_Vx044_ywc-wg5IVkARpgik56hNOUvSMblRSyCI7zYyqxwIJ5ugNq1sPRmFeMX_aeeEY8xS6gudBihQHRgCOHzEva3u5iqAcI06tDmruSPXmzH6bKPsgZFfXORdhKMpCkp7-LmaH8bpFlSYI_amiDCygqfOcT4pB4Bml-Dk6Qs4FtvZIYNhennELfpik3pfUveBfobsuCozQu9sguK_VkihE9SDzoYHOoz5Nh3X1k8R6j0Gk1rC3i3J9nM2352vAaka_9uJEeL5p7seKRvKksu5CVrp0gBpruu5FWyHw6eeFb8J7gEgSGlIAjvgZbovPM-9WpjEOhg5YaFfUTnBi0zcO4RejihJr1_HjAFMmMl-xpX3cU5f3kFQew5ZhPhYlMeGh6xJXy6mwXnrtNDMIc5NRNWjNnVzWzpLlOFGcvT988g00YOfvhKoqA0yD2fXe48ubU7sYRoAllsLWQWVUlTA8bW_XjTzlwA0qAxOS8o-TU4qVWyDMvehpjJhsNPnFGRiWERHD9Ay9CC2wulJiSjtwlZANUMP77B7WMqSXbl0G78TAPBtrK_Mqesr-LnqlApVt4odfZumBuvR72PM8egXLbUH5ireZVQPi7abqcfTscoH8DVhwc5KYsr-475_X7SgvXyEs0MiunMa34QPyWQsuyU1tx6299JLjH2gn68iN56Y3wLESyLMUm7xK8TJ7aARW9Dqk5q-KxNjb6FcZJHgti15mIU5Gub8Qbuf8jVoBgAhS20WPjScAALtuoLuGeONGQQ_evsSkcWogkXj9oG2FEBQlL3C_aZYRZvGa2Dy1Ov6DfbjvyJ4AwJZpEmFo-wWK8GOOpm7fddPZvMYj1i_DwsrNWTyzdpeL6F5WM8WKd4pnVclveA-gq8kQ7R092XDlTNovnYKmSFWA8oLpPbtALYxEYASRVG9ka8ealpFkZsvwwhOLutlYgoi9C5F4m2MlR4Jlb52uNIG_uZLw12UZzlmzJxwIJCf4C7DcSmfaVU4nkIvOQ00IXaFOwmca2oCYHx2DR-niOzh6OaVBW6y5nn8DcXNOguvLq2ntycOa2MaFggAEhLkaCG04H5e_971rv_2HfFwvX9gAQ",
		tpiLookupURL: "",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl: "https:\/\/fw.adsafeprotected.com\/rjss\/bgd\/496982\/48933807\/xbbe\/creative\/adj?p=APEucNW3OO8GWvOG5uDvDtQHCXdWgVMSp2bjTodFsc2NULrYb_kRyW8&d=CnkAoCZ_4IEJ0j9d",
		accountForSadImps: '',
		sendCookie: 'true',
		cookieBaseURL: 'sc.iasds01.com\/dtc?advEntityId=496982&pubEnt=48933807',
		fwMonitoring: 'false',
		doNothing: false,
		mn: "app01jp",
		mobOrTab: false,
		app: false,
		mobAppWebview: false,
		mobFwUrl: "https:\/\/mobile.adsafeprotected.com\/internal\/blocking\/app\/initial\/496982\/48933807?redirectUrl=https%3A%2F%2Fbid.g.doubleclick.net%2Fxbbe%2Fcreative%2Fadj%3Fp%3DAPEucNW3OO8GWvOG5uDvDtQHCXdWgVMSp2bjTodFsc2NULrYb_kRyW8%26d%3DCnkAoCZ_4IEJ0j9dQf0agFE6OadZifNqgfZM_OWJH4-7q4JJSAjN44-mgShj930oUWzFFCfcT1ROUPTtn89d_AzRzx9-XoCSULUaWqDMd7XyLLQ-LNK5Ov_bAltPX4z23WSGJqJu32qZuU7oDa0iR3zmK-rDJsvBQ50SEpkRAKAmf-CIekcdSqXC2spbkAtzMa5wb7bDtdCrm___HyXvIagzE9EREgtuFuGsKfYJkJ6Zekctha2q0JTC46BzVL5Mu581tkkgjVpcioo1v_xjofIOdrCPe28lJ-bSk6jEVQCYy1pN8oil5JmM8gJuQJgyBQBLEuLgWsBWUwI21zbxseUQeVd12d34Y374y4ohpjadpSl-dnMc2zOTPHb6Hu2ZdH5h8olcZfD1PZxyZdMqDCII4ZE-Y_3VG3R8ZAb6nn64OTT6zL7YwirXF5ant1OvdacRGmiPpYr4kVLO-aV9kP0T4Gs9pKqSj0tvbMx7dVhn0sZZ7A5O9WRAQrzSac3I7eVTlINkjr00ImN7bIGzWUS3xD0IsbbpogFiTLL7dr_bmewn-3QHqgQnM-23haQ5MmLm6unUc011nNhVSkSbh2LYXPwlkgqEGyVcO2qNskl8LBspfzVkisLJUCKQ8IJ0Q8Ivx8MUevHOI6GSAZhLoptUdbhTZ9KnD9NNfrNxsjU41S9kCtN0Y5JTjNJ6CXtLrfhmtMtj0fPCH8Ai5dzP6Wrnm9f5t4jCBzohMGEc0m7eI4TrbpxQCrmb9pzLk60GBzdxCQji9oNmHjL2SwIuPT2ttjhVWWB7XXaiBDeEd3p51zbHqOo8pmr6D_txf8dDl_JFVW0Anavj6NVibEoz1f3PR2G3s9FAFsMEYOan6Ff7s6DmzOHgPxLgtie1mSrbytnXnnCZB-2LeeSpdA5JoiFTvpDFIgcBxiBrLZL-42OW1NafT7m117X2jWamtXkkboA2RiL_qwrrI1nB4k98wwssOdJXR8MOqlU4g1OhG9JGGdYxjwRz51yff6pMWHcLlq5tVPwW77NKtWP40tSd4jjbNxbczf1QIfranzH3iQsrlvazSXqlYz--3n63pbzkcXYAIICw0nGv5sAhPpcbLmTA80-5SbYBx5ONtkmeLkSxGJDwNIvecR4wX8_R9YNlOIhBT2Mj9Hc8-iXmyX-TJsgs6wp7Z5gDKbYzUyhhQKB3b0fn14R9IkhcTIQDckYZrlqeElVwjwFCm_nMu3--K0y1yh1HKoUFzFIlH2B-JPWZ7NOaDNfVdwdQkhzy_8Lpk1U2CCIB_JQqAYlunMTmseae4Gqxn6gdwM0lNQy2LfF7ueUwNJp9psyq3qqzDJR2ry65O6RlJfyGSIborofeMmyJ4FTZsZljCy3GRFGix5kGMJjaaEAgK7i3AgFtLRId90uNZvNu_KpLtuL-uI-238vVl4l_2jevB3SHEvsDwXT7hyC7CHQdelcYOPUMoxoF4aQzvzICQAYpPtaO2fkyPoc-hwMMU7aRZdFm2CU5ivYwWYZINeibpwJD4VmAk_Co3Ru_HvWQh1YWYtYbvIg3UYFvNtmZhyp2bmwPspn4b5AcK_xvT0Slm9drzub-UIbzDjkikdKivr2S_fLxosq5dOeMTWc-hAsXjd9yBjoJHbxFIWhbUAgS1b1_dcONY4b1UOUv1kLAhGI25GCxl8cwnB_tA8mY0qG-eidt2oeMBmjwvk7Mo-8K9f1BL-mntUb_RqD-EPT9opRFq0J0fYYcj-2kGf6XhrM6k7Rb3aRv99nxbPTB6klUp3bnaKQFhyZzuBIhE_5n38m6OyQ8OcLOpWh7wRwtPvv6nyOy1VlYYZwjjkB-ycBJW1kYyygN8t0_E3KV_44SAjBnkcYMM6V73wWI3SelA0BGgnfcVP79o_cHzd7tPGSrE4d2Xa6UkQIT76wVrx7haADuDbxPkRJHAEtqQH2fxW8RvtyfWGDImjii9ceXc1sJ5KIEg7azGKty1BQC4IVokvFOBMcmrpapTb3VT149ph6Xz1m6CFhCXRK2H5V-F_Vx044_ywc-wg5IVkARpgik56hNOUvSMblRSyCI7zYyqxwIJ5ugNq1sPRmFeMX_aeeEY8xS6gudBihQHRgCOHzEva3u5iqAcI06tDmruSPXmzH6bKPsgZFfXORdhKMpCkp7-LmaH8bpFlSYI_amiDCygqfOcT4pB4Bml-Dk6Qs4FtvZIYNhennELfpik3pfUveBfobsuCozQu9sguK_VkihE9SDzoYHOoz5Nh3X1k8R6j0Gk1rC3i3J9nM2352vAaka_9uJEeL5p7seKRvKksu5CVrp0gBpruu5FWyHw6eeFb8J7gEgSGlIAjvgZbovPM-9WpjEOhg5YaFfUTnBi0zcO4RejihJr1_HjAFMmMl-xpX3cU5f3kFQew5ZhPhYlMeGh6xJXy6mwXnrtNDMIc5NRNWjNnVzWzpLlOFGcvT988g00YOfvhKoqA0yD2fXe48ubU7sYRoAllsLWQWVUlTA8bW_XjTzlwA0qAxOS8o-TU4qVWyDMvehpjJhsNPnFGRiWERHD9Ay9CC2wulJiSjtwlZANUMP77B7WMqSXbl0G78TAPBtrK_Mqesr-LnqlApVt4odfZumBuvR72PM8egXLbUH5ireZVQPi7abqcfTscoH8DVhwc5KYsr-475_X7SgvXyEs0MiunMa34QPyWQsuyU1tx6299JLjH2gn68iN56Y3wLESyLMUm7xK8TJ7aARW9Dqk5q-KxNjb6FcZJHgti15mIU5Gub8Qbuf8jVoBgAhS20WPjScAALtuoLuGeONGQQ_evsSkcWogkXj9oG2FEBQlL3C_aZYRZvGa2Dy1Ov6DfbjvyJ4AwJZpEmFo-wWK8GOOpm7fddPZvMYj1i_DwsrNWTyzdpeL6F5WM8WKd4pnVclveA-gq8kQ7R092XDlTNovnYKmSFWA8oLpPbtALYxEYASRVG9ka8ealpFkZsvwwhOLutlYgoi9C5F4m2MlR4Jlb52uNIG_uZLw12UZzlmzJxwIJCf4C7DcSmfaVU4nkIvOQ00IXaFOwmca2oCYHx2DR-niOzh6OaVBW6y5nn8DcXNOguvLq2ntycOa2MaFggAEhLkaCG04H5e_971rv_2HfFwvX9gAQ",
		anId: '',
		advEntityId: '496982',
		pubEntityId: '48933807',
		videoId: '',
		videoChannel: '',
		rts: {},
		customViewability: [],
		serverSideAppDetection: [],
		groupm_native_publisher: false,
		integration: null,
		staticServer: '\/\/static.adsafeprotected.com\/',
		passback: ''
	};


var __IASScope = __IASScope || (typeof window !== 'undefined' ? window : this);
__IASScope.__IntegralASConfig = __IntegralASConfig;
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r="undefined"!=typeof window?window.__IASScope||window:__IASScope;t.a=r},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return OmidClientExports}));var _main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),OmidClientExports=OmidClientExports||{};!function(e,t,n){if("object"==typeof n&&"string"!=typeof n.nodeName)t(e,n);else{var r=["1.3.6-iab2177"];0,t(e,n={});var i=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=i(e[t]));return Object.freeze(e)};for(var o in n)n.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(e,o)&&Object.defineProperty(e,o,{value:{}}),r.forEach((function(t){if(null==Object.getOwnPropertyDescriptor(e[o],t)){var r=i(n[o]);Object.defineProperty(e[o],t,{get:function(){return r},enumerable:!0})}})))}}(void 0===_main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__.a?void 0:_main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__.a,(function(omidGlobal,omidExports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(e,t)}else for(n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.superClass_=t.prototype};var module$exports$omid$common$argsChecker={assertTruthyString:function(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")},assertNotNullObject:function(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")},assertNumber:function(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")},assertNumberBetween:function(e,t,n,r){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,t),t<n||t>r)throw Error("Value for "+e+" is outside the range ["+n+","+r+"]")},assertFunction:function(e,t){if(!t)throw Error(e+" must not be truthy.")},assertPositiveNumber:function(e,t){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,t),0>t)throw Error(e+" must be a positive number.")}},module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;module$exports$omid$common$VersionUtils.isValidVersion=function(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)},module$exports$omid$common$VersionUtils.versionGreaterOrEqual=function(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var n=0;n<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)break;if(r<i)return!1}return!0};var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";module$exports$omid$common$ArgsSerDe.serializeMessageArgs=function(e,t){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t:JSON.stringify(t)},module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=function(e,t){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]};var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"}},module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(e,t,n,r){this.guid=e,this.method=t,this.version=n,this.args=r};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(e){return!!e&&void 0!==e[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===e[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.deserialize=function(e){return new module$exports$omid$common$InternalMessage(e[module$contents$omid$common$InternalMessage_GUID_KEY],e[module$contents$omid$common$InternalMessage_METHOD_KEY],e[module$contents$omid$common$InternalMessage_VERSION_KEY],e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.prototype.serialize=function(){var e={};return e[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,e[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,e[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,e=e,void 0!==this.args&&(e[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args),e};var module$exports$omid$common$Communication=function(e){this.to=e,this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(e,t){},module$exports$omid$common$Communication.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},module$exports$omid$common$Communication.prototype.serialize=function(e){return JSON.stringify(e)},module$exports$omid$common$Communication.prototype.deserialize=function(e){return JSON.parse(e)},module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT},module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(e){try{return!!e.frames&&!!e.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME]}catch(e){return!1}},declareOmidPresence:function(e){e.frames&&e.document&&(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in e.frames||(null==e.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(e)?module$exports$omid$common$DetectOmid.registerMutationObserver_(e):e.document.body?module$exports$omid$common$DetectOmid.appendPresenceIframe_(e):e.document.write('<iframe style="display:none" id="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'" name="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(e){var t=e.document.createElement("iframe");t.id=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,t.name=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,t.style.display="none",e.document.body.appendChild(t)},isMutationObserverAvailable_:function(e){return"MutationObserver"in e},registerMutationObserver_:function(e){var t=new MutationObserver((function(n){n.forEach((function(n){"BODY"===n.addedNodes[0].nodeName&&(module$exports$omid$common$DetectOmid.appendPresenceIframe_(e),t.disconnect())}))}));t.observe(e.document.documentElement,{childList:!0})}},module$exports$omid$common$DirectCommunication=function(e){module$exports$omid$common$Communication.call(this,e),this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT,this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication),module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(e,t){module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(e),t)},module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$eventTypedefs={},module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return void 0===omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(e,t){return e&&(e[t]||(e[t]={}))}module$exports$omid$common$exporter.packageExport=function(e,t,n){(n=void 0===n?module$contents$omid$common$exporter_getOmidExports():n)&&((e=e.split(".")).slice(0,e.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,n)[e[e.length-1]]=t)};var module$exports$omid$common$guid={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return e="y"===e?(3&t|8).toString(16):t.toString(16)}))}},module$exports$omid$common$logger={error:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];module$contents$omid$common$logger_executeLog((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(t))))}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(t))}))},debug:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];module$contents$omid$common$logger_executeLog((function(){}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(t))}))}};function module$contents$omid$common$logger_executeLog(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}var module$exports$omid$common$OmidGlobalProvider={},module$contents$omid$common$OmidGlobalProvider_globalThis=eval("this");function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if(void 0!==omidGlobal&&omidGlobal)return omidGlobal;if(void 0!==global&&global)return global;if("undefined"!=typeof window&&window)return window;if(void 0!==module$contents$omid$common$OmidGlobalProvider_globalThis&&module$contents$omid$common$OmidGlobalProvider_globalThis)return module$contents$omid$common$OmidGlobalProvider_globalThis;throw Error("Could not determine global object context.")}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(e){return null!=e&&void 0!==e.top&&null!=e.top}function module$contents$omid$common$windowUtils_isSameOriginForIE(e){return""===e.x||""!==e.x}module$exports$omid$common$windowUtils.isCrossOrigin=function(e){if(e===module$exports$omid$common$OmidGlobalProvider.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;module$contents$omid$common$windowUtils_isSameOriginForIE(e)}catch(e){return!0}return!1},module$exports$omid$common$windowUtils.resolveGlobalContext=function(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),module$contents$omid$common$windowUtils_isValidWindow(e)?e:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.resolveTopWindowContext=function(e){return module$contents$omid$common$windowUtils_isValidWindow(e)?e.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.evaluatePageUrl=function(e){if(!module$contents$omid$common$windowUtils_isValidWindow(e))return null;try{var t=e.top;return(0,module$exports$omid$common$windowUtils.isCrossOrigin)(t)?null:t.location.href}catch(e){return null}};var module$exports$omid$common$PostMessageCommunication=function(e,t){t=void 0===t?module$exports$omid$common$OmidGlobalProvider.omidGlobal:t,module$exports$omid$common$Communication.call(this,t);var n=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(t)&&(t=module$exports$omid$common$InternalMessage.deserialize(t),e.source&&n.handleMessage(t,e.source))}}))};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication),module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return!this.to||(0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to)};var module$exports$omid$common$Rectangle=function(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r},module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(e,t,n,r){if(!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(t))try{var i=module$contents$omid$common$serviceCommunication_getValueForKeypath(t,n);if(i)return new module$exports$omid$common$DirectCommunication(i)}catch(e){}return r(t)?new module$exports$omid$common$PostMessageCommunication(e,t):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,t,n,r){for(var i=(t=$jscomp.makeIterator(t)).next();!i.done;i=t.next())if(i=module$contents$omid$common$serviceCommunication_startServiceCommunication(e,i.value,n,r))return i;return null}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=function(e,t,n){n=void 0===n?module$exports$omid$common$DetectOmid.isOmidPresent:n;var r=[e,(0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)];return t&&r.unshift(t),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,r,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,n)},module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=function(e,t){t=void 0===t?module$exports$omid$common$DetectOmid.isOmidPresent:t;var n=[],r=module$contents$omid$common$serviceCommunication_getValueForKeypath(e,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);return r&&n.push(r),n.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,n,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,t)};var module$exports$omid$common$VastProperties=function(e,t,n,r){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=r};module$exports$omid$common$VastProperties.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.3.6-iab2177"},module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$contents$omid$verificationClient$VerificationClient_EventCallback;function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid(){var e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;return e&&"function"==typeof e.registerSessionObserver&&"function"==typeof e.addEventListener?e:null}var module$exports$omid$verificationClient$VerificationClient=function(e){(this.communication=e||(0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(e=module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())&&(this.omid3p=e),this.callbackMap_={},this.imgCache_=[],this.injectionId_=(e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties)?e.injectionId:void 0};module$exports$omid$verificationClient$VerificationClient.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver=function(e,t){(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.registerSessionObserver(e,t,this.injectionId_):this.sendMessage_("addSessionListener",e,t,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener=function(e,t){(0,module$exports$omid$common$argsChecker.assertTruthyString)("eventType",e),(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",t),this.omid3p?this.omid3p.addEventListener(e,t):this.sendMessage_("addEventListener",t,e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl=function(e,t,n){(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document&&module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement?this.sendUrlWithImg_(e,t,n):this.sendMessage_("sendUrl",(function(e){e&&t?t():!e&&n&&n()}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_=function(e,t,n){var r=this,i=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");this.imgCache_.push(i);var o=function(e){var t=r.imgCache_.indexOf(i);0<=t&&r.imgCache_.splice(t,1),e&&e()};i.addEventListener("load",o.bind(this,t)),i.addEventListener("error",o.bind(this,n)),i.src=e},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource=function(e,t,n){var r=this;(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(e,t,n):this.sendMessage_("injectJavaScriptResource",(function(i,o){i?(r.evaluateJavaScript_(o,e),t()):(module$exports$omid$common$logger.error("Service failed to load JavaScript resource."),n())}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_=function(e,t,n){var r=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,i=r.body;(r=r.createElement("script")).onload=t,r.onerror=n,r.src=e,r.type="application/javascript",i.appendChild(r)},module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(e){module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "'+b+'".')}},module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout=function(e,t){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",t),this.hasTimeoutMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setTimeout",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeoutId",e),this.hasTimeoutMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e)},module$exports$omid$verificationClient$VerificationClient.prototype.setInterval=function(e,t){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",t),this.hasIntervalMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setInterval",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("intervalId",e),this.hasIntervalMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(e):this.sendOneWayMessage_("clearInterval",e)},module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout},module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval},module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_=function(e,t){t=e.method;var n=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[n]){var r=(0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,e);this.callbackMap_[n].apply(this,r)}"error"===t&&window.console&&module$exports$omid$common$logger.error(e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_=function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];this.sendMessage_.apply(this,[e,null].concat($jscomp.arrayFromIterable(n)))},module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];this.communication&&(i=(0,module$exports$omid$common$guid.generateGuid)(),t&&(this.callbackMap_[i]=t),r=new module$exports$omid$common$InternalMessage(i,"VerificationService."+e,module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,(0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,r)),this.communication.sendMessage(r))},(0,module$exports$omid$common$exporter.packageExport)("OmidVerificationClient",module$exports$omid$verificationClient$VerificationClient)}),void 0===OmidClientExports?void 0:OmidClientExports)}).call(this,__webpack_require__(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r,i,o,a,s,u,d,c,g,m,l,f,p,v=n(0),h=v.a.__IASOmidVerificationClient||{},E=function(){try{var e={};return function(t,n,r){try{!e[t]&&Math.random()<.01&&(e[t]=!0,function(e){v.a.isDomless&&h&&h.sendUrl?h.sendUrl(e):(new Image).src=e}(function(e,t,n){var r,i,o="//pixel.adsafeprotected.com/mon?anid=925116&advId=fwjs-diag&campId=";try{o+=e+"&adsafe_jsinfo=",t&&t.message&&(o+="derr:"+encodeURIComponent(t.message.toString().replace(/ /g,"-")).substring(0,200)),n&&(i=n.anId?n.anId:n.advEntityId?n.advEntityId+"/"+n.pubEntityId:"",r=n.version+","+n.mode+","+i,o+=",dconfig:"+encodeURIComponent(r))}catch(e){o+=",dcatch:1"}return o}(t,n,r)))}catch(e){}}}catch(e){return function(){}}}(),I=function(e){e.isResolved=!!e.jsFeatures,e.birthdate=(new Date).getTime(),e.perfBirth=void 0!==v.a.performance&&"function"==typeof v.a.performance.now?v.a.performance.now():null},A=n(1),S=function(e,t){if(t.isDomless="undefined"==typeof window,h={isSupported:function(){return!1}},void 0!==A.a.OmidVerificationClient)try{h=new A.a.OmidVerificationClient,t.__IASOmidVerificationClient=h}catch(e){}e.useFIF=t&&!!t.__IntegralASUseFIF&&"jload"===e.mode,e.adRefreshThreshold=t&&t.__IntegralASAdRefreshThreshold},O=function(e,t){return function(n,r){if(!v.a.isDomless){if(e.useFIF)return v.a.frameElement;if(document.currentScript)return document.currentScript;var i,o=n!=r,a=document.getElementsByTagName("script"),s=a[a.length-1],u=a.length,d=-1!=="jss,jsi,jspix".indexOf(e.mode),c=e.scriptUrl;try{for(;--u>=0;)if((i=a[u]).src&&0===i.src.indexOf(c)&&null===i.getAttribute("data-ias-script-tag")){s=i,i.setAttribute("data-ias-script-tag","found");break}0===u&&d&&!o&&(t.write('<span id="s'+e.asid+'"/>'),s=t.getElementById("s"+e.asid).parentNode)}catch(e){}return s}}},D=function(e){var t={};function n(e,n){t[e]=n}function r(e){n(e,Math.round(v.a.performance.now()))}function i(e){r(e+"A")}function o(e){r(e+"Z")}function a(e,t){var r,i;(i=v.a.performance.getEntriesByName(t))&&i.length&&(r=i[i.length-1]).startTime>0&&r.responseEnd>0&&(n(e+"A",Math.round(r.startTime)),n(e+"Z",Math.round(r.responseEnd)))}function s(){}function u(){n=s,r=s,i=s,o=s,a=s}function d(e){return"function"==typeof e}return function(){try{v.a.performance&&d(v.a.performance.getEntriesByName)&&d(v.a.performance.now)&&null!==e.perfBirth?(a(e.jsDoSplit?"bd":"md",e.scriptUrl),n("beA",Math.round(e.perfBirth)),o("be")):u()}catch(t){u(),d(E)&&E("perf",t,e)}}(),{mark:r,markStart:i,markEnd:o,markResource:a,getData:function(){return t}}},T=v.a.__IntegralASConfig||{},_={hashCode:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){var t,n,r=v.a,i=e.split(".");for(t=0;t<i.length;t++)if(n=r,r=r[i[t]],ne.isUndef(r)||t===i.length-1&&!ne.isFunction(r))return!1;return function(){r.apply(n,arguments)}},stringToProp:function(e){var t,n=B.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!ne.isUndef(n));t++);return n},contains:function(e,t){return!!ne.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){return ne.isFunction(e.trim)?e.trim():e.replace(" ","")}},y={MRC_LARGE_AD_SIZE:242500,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",AVID:"av",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v"},VIDEO_CHANNELS:{VANS:{AS3_ADAPTOR:"av3",JS_ADAPTOR:"jv3"},WRAPPERS:{JS:"jvw"}},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",IE:"i",MSEDGE:"e"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",AVID:{AD_SESSION_TYPE:{DISPLAY:"display",VIDEO:"video",MANAGED_DISPLAY:"managedDisplay",MANAGED_VIDEO:"managedVideo"}},CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED:"mobileAppGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"},w={addEvent:function(e,t,n,r){ne.isDef(e.addEventListener)?"mouseenter"===t?e.addEventListener("mouseover",w.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",w.mouseEnter(n),r):e.addEventListener(t,n,r):ne.isDef(e.attachEvent)&&("DOMContentLoaded"===t&&(t="load"),e.attachEvent("on"+t,n))},removeEvent:function(e,t,n){ne.isDef(e.removeEventListener)?("mouseenter"===t?(t="mouseover",n=w.mouseEnter):"mouseleave"===t&&(t="mouseout",n=w.mouseEnter),e.removeEventListener(t,n)):ne.isDef(e.detachEvent)&&e.detachEvent("on"+t,n)},mouseEnter:function(e){var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,n){var r,i="";return n=n||"",document.defaultView&&document.defaultView.getComputedStyle?i=(r=document.defaultView.getComputedStyle(e,n))?r.getPropertyValue(t):i:e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),i=e.currentStyle[t]),i},getXHR2:function(e,t){var n,r;return ne.isDef(v.a.XMLHttpRequest)?"withCredentials"in(r=new XMLHttpRequest)&&(n=r):ne.isDef(XDomainRequest)&&(n=new XDomainRequest),n},whenReady:function(e,t){if(W.isDomless())B.setTimeout((function(){e()}),50);else{var n,r,i=t||(W.xDomainIframe?document:B.getTop().document),o=this;n=e,r=function(){n(!0)},ne.isFunction(document.addEventListener)?"complete"==i.readyState||"loaded"==i.readyState||"interactive"==i.readyState?B.execAtEndOfThread(r):o.addEvent(i,"DOMContentLoaded",r,!1):function(e){var t=B.setInterval((function(){i.body&&(B.clearInterval(t),e())}),50)}(n)}},isSandboxed:function(e){var t,n=B.getWindow(),r=!1;if("sandbox"in B.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=B.getDoc();if(e.browserIs(y.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){if(e&&ne(e.style).isObj()&&ne(t).isObj()){var n="";ne(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){return"absolute"===w.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},N=w,R={findElementsWithSize:function(e){var t=[],n=function(e){R.getNodeArea(e)<1?ne(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){var t=this.getRect(e),n=0!==parseInt(N.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===N.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){var e,t,n;try{t=R.browserWindowPosition(),n=R.windowSize(),e={scrX:B.round(t.scrX),scrY:B.round(t.scrY),width:B.round(n.width),height:B.round(n.height)}}catch(t){se.getAggregator().trigger("error",y.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){var e,t,n,r={};if(W.isDomless())return{width:0,height:0};if(W.friendly)if(t=(e=top.document).documentElement,n=e.body,ne.isDef(top.innerWidth))r.width=top.innerWidth,r.height=top.innerHeight;else if(ne.isDef(t.clientWidth))r.width=t.clientWidth,r.height=t.clientHeight;else{if(!ne.isDef(n.clientWidth))throw r.width=r.height=0,"";r.width=n.clientWidth,r.height=n.clientHeight}else ne.isDef(v.a.outerWidth)&&(r.width=v.a.outerWidth,r.height=v.a.outerHeight);return r},browserWindowPosition:function(){var e=0,t=0;return ne.isDef(v.a.screenX)?(e=v.a.screenX,t=v.a.screenY):ne.isDef(v.a.screenLeft)&&(e=v.a.screenLeft,t=v.a.screenTop),{scrX:e,scrY:t}},getNodeArea:function(e){var t=-1;if(e){var n=R.getRect(e);t=n.width*n.height}return t},getRect:function(e){var t={},n=R.browserWindowPosition(),r=e.getBoundingClientRect();return ne.isUndef(r.x)&&(t.x=r.left,t.y=r.top),ne.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),ne(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getIeDimObj:function(e){var t=e.document;return t.documentElement&&ne.isDef(t.documentElement.clientWidth)&&t.documentElement||t.body},getPlaceholderSpan:function(){var e=document.createElement("span");return ne(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){var e=W.friendly&&B.getTop().Image;return ne.isFunction(e)?new e:new Image},createHiddenIframe:function(e){var t=B.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return N.styleElement(t,n),t},tagNameIs:function(e,t){return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){var n,r,i,o,a,s=1e4,u=1e4,d=N.nodeIsAbsolutelyPositioned(e);if(a=!R.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!d&&a&&!R.tagNameIs(t,"BODY")){o=e;do{o=o.parentNode,r=!R.tagNameIs(o,"OBJECT"),i="inline"!==N.getStyle(o,"display"),r&&i&&(s=(n=R.getRect(o)).width<s?n.width:s,u=n.height<u?n.height:u)}while(o.parentNode!==document&&o!==t)}return{width:B.round(s),height:B.round(u)}},hasBackgroundImage:function(e){var t=N.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyTeadsFrame:function(e){try{var t,n=!1,r=e&&"IFRAME"===e.nodeName&&e.contentDocument;return e&&e.parentElement&&"teads-player"===e.parentElement.classList.item(0)&&r&&((t=r.body)&&t.childElementCount<1)&&(n=!0),n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=se.getAggregator().request("mobileApp").isMobileAppEnvironment(),r=se.getAggregator().request("omidAdSessionContext"),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,a=null,s=function(t){var n,r,a,s=null,u=-1;if(t.length)for(n=0,r=t.length;n<r;n++){var d=t[n],c=R.getNodeArea(d),g=!((a=d).parentNode===e&&"DIV"===a.nodeName&&!o(a)&&("0"===N.getStyle(a,"opacity")||"hidden"===N.getStyle(a,"visibility")||function(){var e,t,n=a.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));g&&i&&"DIV"===d.nodeName&&(g=!1);var m=R.isEmptyTeadsFrame(d);c>u&&g&&!m&&(s=d,u=c)}return s&&(s.hasValidSizeForMobileApp=u>1),s}(function(e){var n,r,i,o,a=[],s=t||"iframe,img,a,object,embed,div".split(",");for(n=0,r=s.length;n<r;n++){var u=s[n].toLowerCase(),d=e.getElementsByTagName&&e.getElementsByTagName(u);if(d&&d.length)for(i=0,o=d.length;i<o;i++)a.push(d[i])}return a}(e));return s&&((a=function(t){for(var r,o,a=t;t.parentNode!==e&&"inline"!==N.getStyle(t.parentNode,"display");)n&&(r=t.parentNode,o=void 0,o=!0,("visible"===N.getStyle(r,"overflow")||"visible"===N.getStyle(r,"overflowX")&&"visible"===N.getStyle(r,"overflowY"))&&(o=!1),!o)||n&&i&&"DIV"===t.parentNode.nodeName||(a=t.parentNode),t=t.parentNode;return a}(s)).hasValidSizeForMobileApp=s.hasValidSizeForMobileApp),a},screenSize:function(){if(W.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{ne.isDef(v.a.screen)&&(e={width:v.a.screen.width,height:v.a.screen.height})}catch(e){}return e},calcMonDims:function(){var e=ne(R.screenSize()).mixin({scrX:0,scrY:0});return ne.isDef(screen.availLeft)&&(e={scrX:v.a.screen.availLeft,scrY:v.a.screen.availTop,width:v.a.screen.availWidth,height:v.a.screen.availHeight}),e},getOurIFrameInTop:function(){for(var e,t=B.getTop(),n=B.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){var e,t;return W.friendly&&(e=W.embedded?(t=R.getOurIFrameInTop())&&t.frameElement:T.contextNode),e},getAncestorNodes:function(e){var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;r.parentNode!==n;)t.push(r),r=r.parentNode;return t},getTagsNamed:function(e,t){var n,r=t||B.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){return!!ne(R.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return ne.isFunction(e)?e(r):r===e}))},contains:function(e,t){var n=!1;try{n=ne.isDef(e)&&ne.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){e&&ne.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){e&&ne.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(e,t){var n,r,i=[T.contextNode.parentNode,B.getDoc()];if(W.friendly&&i.push(B.getTop().document),t&&W.embedded)try{i.push(B.getWindow().frameElement.ownerDocument)}catch(e){}return ne(i).each((function(t,i){try{r=R.querySelector(i,e)}catch(e){}!n&&r&&(n=r)})),n},getNodeName:function(e){return e&&e.nodeName},isWindow:function(e){var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){var t=[],n=R.getTagsNamed("iframe",e);return n&&(t=ne(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){var e=B.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){return e.tagName.toLowerCase()},getAttribute:function(e,t){return e.getAttribute(t)},attributeMatches:function(e,t,n){var r=e&&R.getAttribute(e,t);return n.test(r)},isImageTag:function(e){return e&&e.src&&R.tagNameIs(e,"img")},getDimensionFromStyle:function(e){var t,n=N.getStyle(e,"width"),r=N.getStyle(e,"height");return n&&r&&(t={width:ne.getNum(n),height:ne.getNum(r)}),t},getDimensionFromAttributes:function(e){var t,n=R.getAttribute(e,"width"),r=R.getAttribute(e,"height");return n&&r&&(t={width:ne.getNum(n),height:ne.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){return e&&e.children&&e.children[0]},isClippable:function(e,t){var n=!0,r="fixed"===N.getStyle(e,"position"),i=!("hidden"===N.getStyle(t,"overflow"))&&!r;return W.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){var t=R.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==y.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||R.hasBackgroundImage(e)||i)},getElementsDocument:function(e){return e.ownerDocument||e},getElementsWindow:function(e){var t=R.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){return R.getElementsWindow(e)!==B.getTop()},getParent:function(e){return e.parentNode||e.parent},isNodeXDomainIframe:function(e){var t=!1;if(e&&"IFRAME"===R.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){return 1===e.nodeType}},C=R,b=function(){var e,t=function(){var t,n=T.contextNode.parentNode;return n&&_.contains(n.className,"celtra-ad-v3")?e=n:(t=n&&C.querySelector(n,".celtra-ad-v3"))&&(e=t),e};return{find:t,isApplicable:function(){return void 0!==t()}}},M=function(){var e,t=B.getDoc().scripts,n=function(){return e||(e=ne(t).findFirst((function(e,t){return _.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:y.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=ne([i,o]).findFirst((function(e,t){return C.crossQuerySelector(t,!0)}))}catch(e){}return t}}},$=function(e){var t,n={},r=!1,i=function(e){return 1===e.nodeType},o=function(){var t=i(e)?C.nodeIsHidden(e):0===e.width||0===e.height;return!r&&t},a=function(){var e={};return ne(n).each((function(t,n){e[t]=B.round(n)})),e},s=function(e){return ne.isNumeric(e)||ne.isUndef(e)},u=function(){return B.round(n.width)*B.round(n.height)};return e!==v.a.parent&&(i(e)?ne.isDef(e.getBoundingClientRect)&&(t=C.getRect(e),ne(n).mixin({x:ne.useIfDef(t.x)||t.scrX,y:ne.useIfDef(t.y)||t.scrY,scrX:t.scrX,scrY:t.scrY,width:t.width,height:t.height})):n=e),{hasValidDims:function(){return s(n.scrX)&&s(n.scrY)&&ne.isNumeric(n.width)&&ne.isNumeric(n.height)},toString:function(){var e=a();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:a,getRoundedGeometry:function(){var e={};return ne(n).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?B.round(n):n})),e},set:function(e,t){n[e]=t},isHidden:o,treatAsPlaceholder:function(){r=!0},area:u,isMrcLarge:function(){return u()>=y.MRC_LARGE_AD_SIZE},isOneByOne:function(){return o()&&u()<=1}}},V=function(){var e,t,n=B.getDoc(),r=function(){var t,r;return e||(r=(t=C.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split("ebDiv")[1]),e},i=function(){var e,n;return t||(n=(e=C.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&e.id,t=n&&"#"+n),t};return{detectionMethod:y.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,o=B.getWindow(),a=e.friendlyIframe&&B.getWindow().frameElement,s=a&&$(a).isOneByOne(),u=(n=B.getDoc().scripts,ne(n).findFirst((function(e,t){return _.contains(t.src,"bs.serving-sys.com/BurstingPipe/adServer")}))),d=o.EBG&&o.EBG.ads&&!ne(o.EBG.ads).isEmpty();return t.on("sizmek")&&u&&d&&s&&r()&&i()},getCssSelector:i}},P=function(){return{isApplicable:function(e,t){var n;try{n=C.getFrameId()}catch(e){}return t.on("yieldmo")&&n&&_.contains(n,"_tpi")&&C.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+C.getFrameId().replace("_tpi","")+"']"},detectionMethod:y.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},x=function(){var e,t=se.getAggregator().request("features");return e||(e=[V(),P(),M()]),ne(e).findFirst((function(e,n){return n.isApplicable(W,t)}))},F=function(e,t){var n=e||T.adsafeSrc||T.requrl;n&&0===n.indexOf("http")||(n=0===n.indexOf("//")?T.protocol+":"+n:T.protocol+"://"+n);var r=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(n),i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],d=e?r[6]:"",c=t?r[7]:"",g={},m=function(e){return ne.isDef(e)&&(s=e),s},l=function(e){return ne.isDef(e)&&(u=e),u},f=function(e,t){return e+"="+ne(t).toION()},p=function(){var e;return e=ne(g).isEmpty()?"":ne(g).stringify(f,"&"),"?"+c+(c&&e?"&"+e:e)};return c=c?c.replace(/&$/,""):"",{appendToParamValue:function(e,n){var r,i,o,a=g[e];a?g[e]=a+n:t&&c.length&&(r=c.split(e)).length>1&&(i=r[1].split("&")[0],o=[r[0],i].join(e),c=c.replace(o,o+n))},fullDom:i,hostname:a,sub:m,master:l,setParam:function(e,t){g[e]=g[e]||{},ne(t).isObj()?ne(g[e]).mixin(t):g[e]=t},path:function(e){d=e},toString:function(){var e=m()?m()+".":"",t=d?"/"+d:"",n=c||!ne(g).isEmpty()?p():"";return o+"://"+e+l()+t+n}}},L=function(){var e=se.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},U=function(e){var t=B.getWindow(),n=t&&t.omid3p,r=se.getAggregator().request("omidAdSessionContext"),i=!!(e&&e.isSupported&&e.isSupported()),o=!!(n&&ne.isFunction(n.registerSessionObserver)&&ne.isFunction(n.addEventListener));return{accepts:function(){return i||o},isMediaType:function(e){return e===r.mediaType},supportsAdContainerGeometry:function(){return!0}}},G=function(){var e=se.getAggregator().request("omidAdSessionContext"),t=se.getAggregator().request("omidVerificationClient"),n=new U(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},W=(r=v.a,i="undefined"==typeof window,o=function(){return i},a=void 0!==r&&"undefined"!=typeof top&&r!==top,s=function(){var e=!1;if(o())e=!0;else try{e=!!top.document}catch(e){}return e}(),d=function(){return!o()&&ne.isDef(B.getWindow().mraid)},c=function(){var e=!1;if(!o()){var t=B.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,r=t&&n&&ne.isFunction(n.addVideoEventListener);e=d()&&!!r}return e},l=function(e){return!1!==ne(T.customViewability).isArray()&&ne(T.customViewability).filter((function(t,n){return _.contains(n.id,e)})).length>0},f=function(){return T.use100v},{embedded:a,friendly:s,isFriendlyToParent:function(e){var t,n;if(o())t=!0;else{try{n=F(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:a&&s,xDomainIframe:a&&!s,getTagTime:function(){return B.now()-T.birthdate},getPageTime:function(){var e=y.NA;return!o()&&ne.isDef(r.chrome)&&ne.isDef(r.chrome.csi)&&ne.isFunction(r.chrome.csi)&&(e=B.round(r.chrome.csi().pageT)),e},isVideo:g=function(){return-1!==T.mode.indexOf("jsvid")||function(){var e=!1,t=se.getAggregator();if(!o()){var n=t.request("avidJsClient");if(n.isAvidAvailable())try{e=n.getAvidAdSessionContext().mediaType===y.MEDIA_TYPE.VIDEO}catch(e){}}return e}()||(e=se.getAggregator(),t=e.request("omidVerificationClient"),n=!1,r=e.request("omidAdSessionContext"),t&&r&&(n=r.mediaType===y.MEDIA_TYPE.VIDEO),n)||c();var e,t,n,r},isMobileApp:u=function(){return o()||ne.isDef(B.getWindow().mraid)},isSpecifiedAd:function(){var e=!1;if(!o()){var t=T._cl_adpath;e=t&&ne.isStr(t)}return e},isCompoundAd:function(){var e=!1;if(!o()){var t=T._cl_adpath,n=/\[(.*)\]/.exec(t);e=null!==n&&0!==n[1].length&&n[1].split(",").length>1}return e},isAvid:function(){return!o()&&ne.isDef(B.getWindow().avid)},isOmid:function(){var e=se.getAggregator().request("omidVerificationClient");return e&&e.isSupported()},isOmidNative:function(){return(new L).accepts()},isOmidForWeb:function(){return(new G).accepts()},isDomless:o,isAvidNative:function(){var e=!1,t=se.getAggregator();if(!o()){var n,r=t.request("avidJsClient");r.isAvidAvailable()&&(e=(n=r.getAvidAdSessionContext().avidAdSessionType)===y.AVID.AD_SESSION_TYPE.MANAGED_DISPLAY||n===y.AVID.AD_SESSION_TYPE.MANAGED_VIDEO)}return e},isBustedIframe:function(){var e=!1;return o()||(e=void 0!==x()),e},isMraid:d,isSafeFrame:function(){var e=!1;return o()||(e=ne(B.getWindow().$sf).isObj(!1)&&ne(B.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:c,isDeviceTypeGroupMobile:m=function(){return T.mobOrTab},usesIASFullyInViewCustomMetric:function(){return l("fiv")||f()||!p()},usesGroupMCustomMetric:p=function(){return l("grpm")||f()},isCeltra:function(){var e=!1;return o()||(e=b().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return p()&&m()},usesZeroPivCustomMetric:function(){return!1!==ne(T.customViewability).isArray()&&ne(T.customViewability).filter((function(e,t){return ne(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=B.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!o()&&!u()&&!g()&&a&&"jload"===T.mode},integratedBlockingApplies:function(e){var t,n,r,i,o=!1;T.contextNode&&ne.isFunction(T.contextNode.getAttribute)&&(t=T.contextNode.getAttribute("data-ias-check-tag"),n=T.contextNode.getAttribute("data-ias-check-done"),i=(r=T.contextNode.getAttribute("data-ias-callback"))&&ne.isFunction(B.getWindow()[r]));var a=ne.isDef(JSON)&&ne.isFunction(JSON.parse),s=T.integration&&(e.indexOf("skeleton.js")>0||e.indexOf("/internal/")>0),u=!0===T.fwMonitoring||"true"===T.fwMonitoring;return a&&s&&("true"===t&&"true"!==n&&i?(o=!0,u&&se.getAggregator().trigger("addOutputItem",{output:"imgb"},"smm",{type:"impression"})):(o=!1,u||se.getAggregator().trigger("addOutputItem",{output:"ibgm"},"smm",{type:"impression"}))),o}}),j={execAtEndOfThread:function(e){j.setTimeout(e,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(e){return Math.round(e)},ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},min:function(){return Math.min.apply(null,arguments)},max:function(){return Math.max.apply(null,arguments)},getWindow:function(){return v.a},getTimeoutScope:function(){return W.isDomless()&&W.isOmid()?se.getAggregator().request("omidVerificationClient"):v.a},setInterval:function(e,t){return j.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){return j.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){j.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){j.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){return Number.MAX_VALUE},getTop:function(){return W.isDomless(),top},getDoc:function(){return W.isDomless(),document},getIntersectionObserver:function(e,t){return W.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){return W.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){return W.isDomless(),new ResizeObserver(e)},pow:function(e,t){return Math.pow(e,t)}},B=j,k={},H=T.jsFeatures&&-1!==T.jsFeatures.indexOf("moira"),Y="true"===T.debug,q=Y&&!H;(function(){k={};var e,t,n,r,i=!1,o="pm,pmObject,inDoc,n,logChannel,log,info,warn,dir,exception,trace,group,groupEnd,groupCollapsed,profile,profileEnd,count,clear,time,timeEnd,timeStamp,table,error,memoryProfile,memoryProfileEnd,assert".split(","),a=function(){},s="undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&"undefined"!=typeof HTMLElement,u=function(e){var t,n=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t]instanceof HTMLElement?e[t]="":"object"==typeof e[t]&&n(e[t]));return e};return s&&(t=JSON.stringify(n(e))),t||e},d=function(e){top.postMessage&&top.postMessage(e,"*")};if(q&&"undefined"!=typeof console)for(t=0,e=o.length;t<e;t++)n=o[t],void 0===k[n]&&(k[n]=(r=console[n])&&r.bind?r.bind(console):a);else for(t=0,e=o.length;t<e;t++)n=o[t],k[n]=a;if(q){k.inDoc=function(e,t,n){var r=function(e,t){var n=document.createElement(e);return n.textContent=t,n},o=function(){var n,o,a;try{i||((i=document.createElement("ul")).style.position="relative",i.style.top=0,i.style.right=0,i.style.backgroundColor="white",i.style.opacity=.5,document.body.appendChild(i)),n=document.createElement("li"),o=r("label",e+": "),(a=r("span",t)).className="content",n.appendChild(o),n.appendChild(a),i.appendChild(n),n.className=e}catch(e){}};n?B.setTimeout(o,n):o()};var c={};k.n=function(e,t,n,r){n=n||1,r=r||"pm",c[e]||(c[e]=0),c[e]<n&&(k[r](e+" "+c[e]+": "+t),c[e]++)}}(Y||H)&&(k.pm=v.a.postMessage?d:a,k.pmObject=v.a.postMessage?function(e,t){d(e+": "+u(t))}:a,k.logChannel=function(e,t){s&&k.pm(u({asid:T.asid,channel:e,data:t}))})})();var K=function(e){return new X(e)},X=function(e){this.iterable=e};X.prototype.isObj=function(e){var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},X.prototype.isArray=function(){return this.iterable instanceof Array},X.prototype.isEmpty=function(e){return 0===this.keys(e).length},X.prototype.each=function(e,t){var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},X.prototype.map=function(e,t){var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},X.prototype.stringify=function(e,t){t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);K.isDef(i)&&n.push(i)})),n.join(t)},X.prototype.toION=function(e,t){this.iterable;var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return K(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=K(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},X.prototype.compareTo=function(e){var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},X.prototype.toParams=function(e){return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},X.prototype._privateMixin=function(e,t,n){var r;for(r in t)K.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},X.prototype.mapToObj=function(e){var t={},n=this;return this.each((function(r,i){var o=e(r,i);K(o).isObj()&&n._privateMixin(t,o)})),t},X.prototype.invert=function(){return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},X.prototype.mixin=function(e,t){return this._privateMixin(this.iterable,e,t)},X.prototype.find=function(e){var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},X.prototype.findFirst=function(e){var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},X.prototype.keys=function(e){var t=[];return this.each((function(e){t.push(e)}),e),t},X.prototype.asStrings=function(){var e={};return this.each((function(t,n){e[t]=""+n})),e},X.prototype.selectProperties=function(e){var t={},n=this;return K(e).each((function(e,r){K.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},X.prototype.filter=function(e,t){return this.map((function(t,n){var r;return(K.isUndef(e)||K.resolve(e,t,n))&&(r=n),r}),t)},X.prototype.toArray=function(){return this.map((function(e,t){return t}))},X.prototype.JSONStringify=function(){var e,t,n=!1;return v.a.Prototype&&v.a.Prototype.Version&&-1===v.a.Prototype.Version.indexOf("1.7")&&(n=!0),n&&(t=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),n&&(Array.prototype.toJSON=t),e},X.prototype.contains=function(e){var t=K(this.iterable).findFirst((function(t,n){return e===n}));return K.isDef(t)},K.toBase=function(e,t){var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},K.isDef=function(e){return void 0!==e},K.isUndef=function(e){return!K.isDef(e)},K.isBool=function(e){return"boolean"==typeof e},K.noop=function(){},K.identity=function(e){return e},K.isFunction=function(e){return"function"==typeof e},K.isStr=function(e){return"string"==typeof e},K.useIfDef=function(e){return!!K.isDef(e)&&e},K.stringifyTriState=function(e){return!0===e?1:!1===e?0:"na"},K.getNum=function(e){var t=parseInt(e);return isFinite(t)||(t=-1),t},K.resolve=function(e){var t=K(arguments).toArray();return t.shift(),K.isFunction(e)?e.apply({},t):e},K.flatJSONParse=function(e){for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},a=i.exec(e);a;)t=a[1],n=a[3],r=a[2],o[t]=n||+r,a=i.exec(e);return o},K.debounce=function(e,t,n){var r,i=n||v.a;return function(){var n=this,o=arguments,a=function(){r=null,e.apply(n,o)};i.clearTimeout(r),r=i.setTimeout(a,t)}},K.last=function(e){return e[e.length-1]},K.collapseArgsIntoHash=function(e,t){var n={};return t?n[e]=t:n=e,n},K.fromBoolToNum=function(e){return e?1:0},K.isNumeric=function(e){return K.isDef(e)&&null!==e&&!isNaN(e)},K.fromNodeListToArray=function(e){return Array.prototype.slice.call(e)};var z,J,Q,Z,ee,te,ne=K,re=function(){var e=[];return{push:function(t,n){var r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){var t=arguments;ne(e).each((function(e,n){n.apply({},t)}))}}},ie=function(){var e={},t=function(t,n){e[t]=n};return{request:function(t){var n,r=e[t],i=ne(arguments).toArray();return i.shift(),ne.isUndef(r)||(n=ne.isFunction(r)?r.apply({},i):r),n},provide:function(e,n){return n?t(e,n):ne(e).each(t),n}}},oe=function(){var e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){var r;(r=e[t])&&r.run.apply({},n)},i=function(e,n,r){var i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),ne(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new re,e[t].push(n,r)};return{on:function(e,t){var n={};t?n[e]=t:n=e,ne(n).each(o),ne(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){var t=ne(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){var t=ne(arguments).toArray();t.shift(),n(e,t),r(e,t)}}},ae=function(){var e=new ie,t=new oe;return ne(e).mixin(t)},se=(J={},Q=[],Z=[],te=function(e,t,n,r,i){var o,a,s,u=function(){if(!o){var t=[];o=!0,s=["features","browser","context"],0===Q.length&&(Q=ne(s).map((function(e,t){return z.request(t)}))),i.emits&&(e.events=new oe),i.applies&&!i.applies.apply(i,Q)||(a=!0,(t=ne(n).map((function(e,t){return z.request(t)}),!0)).push(e),ne(e).mixin(r.apply({},t)))}var s};return s=(i=i||{}).tier,ne.isDef(s)&&(J[s]=J[s]||new re,J[s].push(u)),z.provide(t,(function(){var t;return u(),a&&(t=e),t})),e},(ee=function(){var e={},t=ne(arguments).toArray();return t.unshift(e),Z.push(t),e}).runAll=function(){var e=ne(J).keys().sort((function(e,t){return e-t}));ne(e).each((function(e,t){ee.runTier(t)}))},ee.runTier=function(e){J[e].run(),delete J[e]},ee.startSystem=function(){z=z||new ae,ne(Z).each((function(e,t){te.apply({},t)}))},ee.getAggregator=function(){return z},ee),ue={isFrameworkAvailable:function(e,t){var n,r,i=B.getTop(),o=B.getWindow();try{n=i[e]}catch(e){for(;!r;){try{o.frames[t]&&(r=o.frames[t].parent)}catch(e){}if(o===i)break;o=o.parent}}return n||r},getMessageHandler:function(e,t){var n=ue.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),N.removeEvent(B.getWindow(),"message",r))}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+T.asid},send:function(e,t){se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,e,t)}},de=ue,ce={name:"GDPRConsentDetector",dependencies:[],creator:function(){var e;function t(e){var t=ne.isDef(e)&&ne.isDef(e.vendorConsents)&&ne.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:ne.stringifyTriState(e.gdprApplies),cnst:ne.stringifyTriState(t),glbl:ne.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)};de.send("gcd",ne(n).toION())}e=de.isFrameworkAvailable("__cmp","__cmpLocator"),de.send("gca",!!e),e&&function(e){var n,r;ne.isFunction(e)?e("getVendorConsents",[278],t):(n={__cmpCall:{command:"getVendorConsents",parameter:[278],callId:de.getCallId()}},r=de.getMessageHandler("__cmpReturn",t),N.addEvent(B.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},ge={name:"CCPAConsentDetector",dependencies:[],creator:function(){var e;function t(e){e&&de.send("ccd",ne(e).toION())}e=de.isFrameworkAvailable("__uspapi","__uspapiLocator"),de.send("cca",!!e),e&&function(e){var n,r;ne.isFunction(e)?e("getUSPData",1,t):(n={__uspapiCall:{command:"getUSPData",version:1,callId:de.getCallId()}},r=de.getMessageHandler("__uspapiReturn",t),N.addEvent(B.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},me={name:"GDPRV2ConsentDetector",dependencies:[],creator:function(){var e;function t(e){var t=ne.isDef(e)&&ne.isDef(e.vendor)&&ne.isDef(e.vendor.consents)&&ne.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:ne.stringifyTriState(e.gdprApplies),cnst:ne.stringifyTriState(t)};de.send("gcd2",ne(n).toION())}e=de.isFrameworkAvailable("__tcfapi","__tcfapiLocator"),de.send("gca2",!!e),e&&function(e){var n,r;ne.isFunction(e)?e("getTCData",2,t):(n={__tcfapiCall:{command:"getTCData",parameter:[278],callId:de.getCallId(),version:2}},r=de.getMessageHandler("__tcfapiReturn",t),N.addEvent(B.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},le=function(e,t,n,r){var i,o,a=0,s=0,u=e&&e.body,d=!1,c=function(){if((i=Math.round(C.getNodeArea(e.body)))>=r){for(var t,o,u=i+20*i/100,d=e.querySelectorAll("iframe"),c=ne.fromNodeListToArray(d);c.length&&(s<u||a<n);)t=c.shift(),(o=Math.round(C.getNodeArea(t)))>=r&&(a++,s+=o);s>=u&&a>=n&&g()}},g=function(){var e={va:i,bia:s,bin:a};se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.FF,t,ne(e).toION()),d=!0};u&&(B.execAtEndOfThread(c),!d&&ne.isDef(v.a.MutationObserver)&&(o=new MutationObserver((function(e){d?o.disconnect():B.execAtEndOfThread((function(){ne(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&C.isElement(n)&&C.tagNameIs(n,"IFRAME")&&ne.debounce(c,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))},fe={name:"BS_Browser",dependencies:[],creator:function(){var e=B.getWindow().document,t=e.body?Math.round(C.getNodeArea(e.body)):null;!se.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&le(e,"bs2",10,t)},settings:{tier:y.TIERS.VIEWABILITY,applies:function(e,t,n){var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}},pe={name:"BS_InApp",dependencies:[],creator:function(){var e=B.getWindow().document;se.getAggregator().request("mobileApp").isMobileAppEnvironment()&&le(e,"bs1",3,100)},settings:{tier:y.TIERS.VIEWABILITY,applies:function(e,t,n){var r=n.isAvid()||n.isOmid()||n.isMraid(),i=!n.isDomless()&&n.friendly&&!n.embedded;return e.on("bas")&&r&&i&&e.bootstrapOn("app")}}},ve=function(e){var t,n,r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){var n=e.innerWidth,o=e.innerHeight,a=!1;r((function(){var r,s,u=(r=e.innerWidth,s=e.innerHeight,r!==n||s!==o);u&&(a=!0),a&&!u&&(t(),i(),a=!1),n=e.innerWidth,o=e.innerHeight}))}}},he={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){var n,r=function(){try{r=e.isHidden(),o={},r!==n&&(i=ne.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=B.now(),o.psfr=ne.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.HIDDEN2)}var r,i,o};return{start:function(){var t;e.isHidden()&&(r(),(t=e.getWindowWithHiddenViewport())&&ve(t).onResize(r))}}},settings:{emits:!0,applies:function(e,t,n){return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},Ee=function(){var e,t,n=(e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},{hasValidDimensions:function(n){return t(n)||function(t){var n=C.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t=function(t){var n=C.getDimensionFromAttributes(t);return e(n)}}),r=/GoogleActiveViewClass/,i=/DfaVisibilityIdentifier_/,o=/doubleclick.net\/pcs\/click?/,a=/_blank/,s=function(e){var t=C.tagNameIs(e,"div"),n=C.attributeMatches(e,"class",r),o=C.attributeMatches(e,"id",i);return t&&n&&o};return{getDFPGoogleDiv:function(e){return C.traverseAndFindFirstMatchingNode(e,s)},getClickableImage:function(e){var t,r,i=C.getFirstChildElement(e);return function(e){var t=e&&C.tagNameIs(e,"a"),n=C.attributeMatches(e,"href",o),r=C.attributeMatches(e,"target",a);return t&&n&&r}(i)&&(r=C.getFirstChildElement(i),C.isImageTag(r)&&n.hasValidDimentionAttributes(r)&&(t=r)),t},getNodeMatchingMinimumSize:function(e){return C.traverseAndFindFirstMatchingNode(e,n.hasValidDimensions)}}},Ie=function(){var e=Ee(),t=function(e,t){t.tag=C.getTagName(e),t.size=C.getDimensionFromAttributes(e)||C.getDimensionFromStyle(e)};return{getDFPValue:function(n){var r=e.getDFPGoogleDiv(n);return r?function(n){var r,i,o={type:0};return n&&(o.type=1,(r=e.getClickableImage(n))?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n))&&(o.type=3,t(i,o))),o}(r):function(n){var r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n)}}},Ae={name:"hA",dependencies:["AS_Finder"],creator:function(e){var t=0,n=function(e,t){se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.FF,e,ne(t).toION())},r=function(e){t<2&&n("ha1",e),t++};!function(){var t,i;if(W.embedded)try{i=T.contextNode.parentNode,t=Ie().getDFPValue(i),n("dfp",function(e){var t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(t)),t.size&&e&&(e.events.on("newState",r),e.start())}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.HIDDEN)}}()},settings:{tier:y.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("usehaps")}}},Se={name:"viewport",dependencies:[],creator:function(){var e={width:4,height:4},t=function(t){return!C.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&W.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){var e=B.getWindow();return n(e,B.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){var e,n=B.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},Oe={name:"postMessageDetector",dependencies:[],creator:function(){var e,t=!1,n="pmdetector"+T.asid,r=function(e){(e&&e.data)===n&&(t=!0)};e=B.getWindow(),N.addEvent(e,"message",r),e.postMessage(n,"*"),B.execAtEndOfThread((function(){se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.IM,"pom",ne.stringifyTriState(t)),N.removeEvent(e,"message",r)}))},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("pmdetect")&&t.hasPostMessage()}}},De={name:"safeFrameDetector",dependencies:[],creator:function(){se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.IM,"sf",ne.stringifyTriState(W.isSafeFrame()))},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("sfdetect")}}},Te={name:"AdRefreshDetection",dependencies:[],creator:function(){var e=[15,30,45,60,90],t={start:function(){var e=this,t=T.asid,n=this.getChanId(),r=T&&T.contextNode&&T.contextNode.nextSibling&&T.contextNode.nextSibling.id;t&&n&&(this.recordAdSlotImpression(t,n,r,(function(t,n){t?se.getAggregator().trigger("error",y.ERROR_CODES.AD_REFRESH):e.sendRefreshSession(n)})),e.registerInternalViewabilityListener(n,r))},adRefreshIntervalIsValid:function(t){return-1!==e.indexOf(t)},getChanId:function(){for(var e,t=T.reqquery.split("&"),n=/(\S+)=(\S+)/g,r=0;r<t.length;r+=1){n.lastIndex=0;var i=n.exec(t[r]);i&&3===i.length&&"chanId"===i[1]&&(e=i[2])}return e},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=B.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=T.adRefreshThreshold&&parseInt(T.adRefreshThreshold)||null,i=B.getTop();r&&this.adRefreshIntervalIsValid(r)&&se.getAggregator().on("sendDt",(function(o,a){o===y.DT_CODES.PING&&a===r&&(B.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"ir",e),se.getAggregator().trigger("adSessionComplete")}};return W.isRefreshable((function(e,n){var r;if(!e&&n)try{(r=JSON.parse(n)).isRefreshable&&r.adServerName&&t.start()}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.AD_REFRESH)}})),t},settings:{tier:y.TIERS.ENVIRONMENT,applies:function(e,t,n){return n.isPossiblyRefreshable()}}},_e=function(){var e=!1;return N.whenReady((function(){se.getAggregator().trigger("startViewabilityLoop"),e=!0})),{loopStarted:function(){return e}}},ye={name:"loopDelay",dependencies:[],creator:_e,settings:{applies:function(e,t,n){return e.bootstrapOn("allowViewability")},tier:y.TIERS.VIEWABILITY}},we=function(e){var t,n,r,i,o,a=function(s){if(r&&!o&&s<1)return o=!0,void B.setTimeout((function(){a(s)}),1e3);i=s<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),!0)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),!0))},s=function(e){a(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(!0),se.getAggregator().on("IOPivChange",a),se.getAggregator().on("newScreenEvent",s)}}},Ne=function(e){return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},Re=function(){return{applies:function(e,t){var n=se.getAggregator().request("mobileApp");return(e.browserIs(y.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(y.BROWSERS.WEBKIT)||e.browserIs(y.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},Ce=function(){var e,t,n,r=!1,i=function(o){return n&&!r&&o<1?(r=!0,void B.setTimeout((function(){i(o)}),1e3)):(o<1?(e||t.stop(!0),e=!0):e&&(e=!1,t.start(!0)),e)},o=function(){t.start(!0)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=Re();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(!0),se.getAggregator().on("IOPivChange",i),se.getAggregator().on("nodesAdded",o)}}},be=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=B.setInterval(e,r))},o=function(t){t&&e(),B.clearInterval(n),n=null};return{start:i,stop:o,updateFrequency:function(e,t){r=e,o(),i(t)}}},Me=function(e){var t,n,r,i,o,a=Me.callTypeCounter,s=[y.DT_CODES.ADTALK],u={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10};return i=(t={},n=y.DT_CODES,ne(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA"]).each((function(e,r){t[n[r]]=u[r]})),t)[e],o=a&&a[e],ne.isDef(o)&&0!==o&&ne(s).contains(e)&&(i=i+"."+o),r=a[e],a[e]=ne.isDef(r)?r+1:1,{callType:e,enumerator:i}};Me.callTypeCounter={};var $e=Me,Ve={name:"viewabilityLoopLifecycle",dependencies:["viewability","features","context","browser"],creator:function(e,t,n,r){var i,o=Ne(n),a=[new Ce,new we(o)],s=function(e){"sessionFinish"===e.type&&se.getAggregator().trigger("adSessionComplete")},u=function(){var u,c=se.getAggregator().request("mobileApp").isMobileAppEnvironment();se.getAggregator().request("ids").impressionIsIdentifiable()&&(i=be(e.checkScreenLoc,o.getPollingFrequency()),(u=ne(a).findFirst((function(e,i){return i.applies(r,t,n)?i:void 0})))?u.start(i):i.start(!0),c?W.isOmid()?se.getAggregator().request("omidVerificationClient").registerSessionObserver(s,"IAS"):d("MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE"):d("beforeunload"))},d=function(e){N.addEvent(v.a,e,(function(){se.getAggregator().trigger("adSessionComplete")}),!1)},c=function(){!n.isVideo()||n.isAvid()||n.isOmidNative()||g(),se.getAggregator().trigger("unload"),i&&i.stop(),se.getAggregator().trigger("endAdSession"),se.getAggregator().trigger("stopAdTalk")},g=function(){var e=new $e(y.DT_CODES.VIDEO_EVENTS);se.getAggregator().trigger("sendDt",e.callType,e.enumerator,(function(){var e={id:T.videoId,msg:"unloadComplete",messageType:"misc"};B.getWindow().postMessage(JSON.stringify(e),"*")}))};se.getAggregator().once("startViewabilityLoop",u),se.getAggregator().once("adSessionComplete",c)},settings:{tier:y.TIERS.VIEWABILITY}},Pe=function(){var e=function(t,n,r){var i,o,a=n.length,s=C.isWindow(t)?t.frames:C.getChildWindowsOf(t);if(r&&r(t,n),s&&s.length){for(i=0;i<s.length;i++)(o=s[i])&&C.isWindow(o)&&(n[a]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){C.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),ne(r).filter(e)}}},xe=function(){return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return ne(e).isObj()?[e]:(new Pe).getFrames(e)}(t);ne(n).each((function(t,n){var r,i=ne.resolve(e,n)||{};i.sentTime=B.now(),r=function(e){return ne(e).mapToObj((function(e,t){var n;return ne.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(ne(r).JSONStringify(),"*")}))}}}},Fe={name:"spgCache",dependencies:[],creator:function(){var e=["asp","fsc","mvn","no","sd"],t={},n=!1,r=function(){return i(t)},i=function(t){return ne(t).keys().sort().toString()===e.toString()},o=function(){n||(n=!0,ne(t).each((function(e,t){se.getAggregator().trigger("addOutputItem",t,e,{type:y.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),se.getAggregator().trigger("sendMinDt",y.DT_CODES.SCA))};return{allExpectedKeysPresent:i,isDtCallAlreadySent:function(){return n},addToCache:function(e,n){n&&n.output&&!r()&&(t[e]=n),r()&&o()},isFull:r,sendToOtherTags:function(){(new xe).send({scaInfoOriginatorASID:T.asid,cache:t})}}},settings:{}},Le=function(){var e,t=new xe;return{listen:function(n,r,i){e=function(e){!function(e,n,r,i){var o,a,s,u;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),a=e.source,u=ne.noop,n(o)&&(i&&(s=i(a,o))&&(u=function(){t.send((function(){return s}),a)}),r(e,o,u))}catch(e){o&&se.getAggregator().trigger("error",y.ERROR_CODES.MESSAGE_LISTENER)}}(e,n,r,i)},N.addEvent(v.a,"message",e)},stop:function(){e&&N.removeEvent(v.a,"message",e),e=null}}},Ue={name:"spg",dependencies:["spgCache"],creator:function(e){var t=new Le;t.listen((function(t){return t&&t.scaInfoOriginatorASID&&t.scaInfoOriginatorASID!==T.asid&&t.cache&&e.allExpectedKeysPresent(t.cache)}),(function(n,r){t.stop(),B.setTimeout((function(){e.isDtCallAlreadySent()||(se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),ne(r.cache).each((function(t,n){e.addToCache(t,n)})))}),B.round(1e3*B.random()))})),se.getAggregator().on("addToSpg",(function(t,n){e.addToCache(n,t),e.isFull()&&(e.sendToOtherTags(),B.setTimeout(e.sendToOtherTags,1300),B.setTimeout(e.sendToOtherTags,3200))}))},settings:{tier:y.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("spg")}}},Ge=function(){for(var e=[ce,ge,me,fe,pe,he,Ae,Se,Oe,De,Te,ye,Ve,Fe,Ue],t=0;t<e.length;t+=1)se(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)},We=function(e){return{resolve:function(){return ne(e).findFirst((function(e,t){return t.environment.accepts()}))}}},je=function(){return{accepts:function(){return!0}}},Be={PERF_MARK_MODULE_DEFINITION:"mm",PERF_MARK_MAIN_FUNCTION:"mf",PERF_MARK_CONTINUE_MAIN:"cm",PERF_MARK_INSTANTIATE_MODULES:"in",PERF_MARK_PRE_IMPRESSION:"pr",PERF_MARK_SEND_IMPRESSION:"si",PERF_MARK_POST_IMPRESSION:"po",PERF_MARK_PBLK:"bl",PERF_MARK_EVENT_LOOP_ONE:"lo",PERF_MARK_EVENT_LOOP_TWO:"lt",PERF_MARK_MAIN_SCRIPT_DOWNLOAD:"md",PERF_MARK_IMPRESSION_CALL_DOWNLOAD:"id"};v.a.globalConstants=Be;var ke=function(e){return{verifyContextNode:function(){!!e.contextNode&&null===e.contextNode.parentNode&&(e.contextNode=function(){var t,n=document.getElementsByTagName("script"),r=n.length,i=n[r-1],o=e.scriptUrl;try{for(;--r>=0;)if((t=n[r]).src&&0===t.src.indexOf(o)&&null===t.getAttribute("data-ias-script-tag")){i=t,t.setAttribute("data-ias-script-tag","found");break}}catch(e){}return i}())}}},He=function(){var e={},t=function(t){var n,r,i,o;return ne.isUndef(e[t])&&(n=T.jsFeatures,e[t]=!1,-1!==n.indexOf(t)&&(r=new RegExp(t+"(?=$|,)|"+t+":(?!,|$)(.?\\d*(?=,|$))").exec(n))&&(o=!(i=r[1]),e[t]=o||i>100*B.random())),e[t]},n={es:"everySecond",sc:"usesca",ha:"usehaps"},r={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:"b11",cnod:"cnod"};T.integration&&(r.intblk="integration");var i=function(e){var t=T[e];return ne(["integration"]).contains(e)?!!t:!0===t||"true"===t||ne.isFunction(t)};ne(n).each((function(e,n){t(n)}));return{on:t,bootstrapOn:i,bootstrapperHas:function(e){var t=ne.isStr(e)?[e]:e;return ne(t).map((function(e,t){if(ne.isDef(T[t]))return 1})).length===t.length},getEnabledScriptUrl:function(e){var n=t("use"+e),r=T.sp_cdnScripts&&T.sp_cdnScripts[e];return n&&r},output:function(){return ne((t=ne(n).mapToObj((function(t,n){var r={};return r[t]=ne.fromBoolToNum(e[n]),r})),(o=ne(r).mapToObj((function(e,t){var n={};return n[e]=ne.fromBoolToNum(i(t)),n}))).gm=ne.fromBoolToNum(W.usesGroupMCustomMetric()),ne(t).mixin(o))).toParams();var t,o}}},Ye={url:{STRINGIFIED_METHOD:"u",detect:function(e){if(W.isDomless())return!1;var t=B.getWindow().location.href,n=[t];try{n.push(top.location.href)}catch(e){}try{n.push(parent.location.href)}catch(e){}if(W.embedded){try{n.push(parent.document.referrer)}catch(e){}try{n.push(document.referrer)}catch(e){}}try{"jsi"!==T.mode&&n.push(v.a.location.href)}catch(e){}try{n.push(T.jsref)}catch(e){}return n.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!ne(e).findFirst((function(e,r){var i,o,a=!1,s="mobfox"===r?n:[t];for(o=0;o<s.length;o++){i=s[o];var u="string"==typeof r?[r]:r;if(ne(u).isArray()){u[0].substring(0,4);if(u)for(var d=0;d<u.length&&!1!==(a=i.indexOf(u[d])>-1);d++);}if(a)break}return a}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){return!W.isDomless()&&!!ne(e).findFirst((function(e,t){var n,r=!1,i=B.getWindow();return ne.isDef(i.navigator)&&ne.isDef(i.navigator.userAgent)&&(r=(n=i.navigator.userAgent)&&-1!==n.indexOf(t)),r}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){return!!ne(e).findFirst((function(e,t){return ne.isDef(_.stringToProp(t))}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){return!W.isDomless()&&!!ne(e).findFirst((function(e,t){return C.containsScriptTagWithSrc((function(e){return ne.isDef(e)&&-1!==e.indexOf(t)}))}))}}},qe=function(){var e=function(e,t){var n,r=Ye[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return ne(t).map(e).join("")}}},Ke=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"avid",detectionRules:{javascript:["avid.getAvidAdSessionContext"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}}],Xe=function(){var e,t=function(e,t){var n,r=qe().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(e=(e=ne(Ke).map(t)).length>0?e[0]:"")&&T.hasOwnProperty("serverSideAppDetection")&&0!==T.serverSideAppDetection.length&&(e="s_serv"),e},hasDetectedMobileApp:function(){return void 0!==e&&""!==e}}},ze=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],Je=function(){var e=[],t=[],n=function(t,n){var r,i=qe().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=ne(ze).map(n)).length>0&&se.getAggregator().trigger("addOutputItem",{output:function(){return e.join(".")}},"sdk",{type:"impression"}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&ne.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},Qe=function(e){var t=new Xe,n=new Je,r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return function(){var i="",o=se.getAggregator().request("omidAdSessionContext"),a=W.isDomless()||o&&"app"===o.environment,s=o&&"web"===o.environment;try{(a||W.isAvid()||W.isAvidNative()||!s&&e.bootstrapOn("mobOrTab")&&e.bootstrapOn("mobAppWebview")&&!function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0;break}return n}())&&(i=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==i&&"u_cars"!==i||(ze[ze.length-1].detectionRules.userAgent[0]="/"),n.detect(),se.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"}),se.getAggregator().trigger("addOutputItem",{output:i},"drul",{type:"impression"})))}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.MOBILE_APP)}}(),{isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}},Ze=function(e){var t,n=[],r=e||v.a,i=function(){return"stub"===s().mode},o=function(e,t){r.avid.addEventListener(e,t)},a=function(){return void 0!==r.avid},s=function(){var e,t={};if(a())if("string"==typeof(e=r.avid.getAvidAdSessionContext()))try{t=JSON.parse(e)}catch(e){E("avidadsessioncontext",e,v.a.bootstrapper)}else"object"==typeof e&&(t=e);return t};return W.isDomless()||i()&&(t=r.setInterval((function(){"stub"!==s().mode&&(r.clearInterval(t),function(){for(var e=0;e<n.length;e++)o(n[e].type,n[e].functionToExecute)}())}),10)),{isAvidAvailable:a,getAvidAdSessionContext:s,addEventListener:function(e,t){i()?n.push({type:e,functionToExecute:t}):o(e,t)},getHtmlVideoAvidAdSessionListener:function(){if(i())throw"`HtmlVideoAvidAdSessionListener` is not available while in stub mode.";return r.avid.getHtmlVideoAvidAdSessionListener()}}},et=function(){var e=new oe;return(new Le).listen((function(e){return e.asid===T.asid&&"FirewallJSAction"===e.channel}),(function(t,n){e.trigger(n.data.action,n.data)})),{events:e}},tt=function(){var e=y.BROWSERS,t=function(e){return n()===e},n=function(){var t="u",n=B.getWindow();try{ne.isDef(n.opera)&&ne.isDef(n.opera.buildNumber)?t=e.OPERA:ne.isDef(n.mozInnerScreenY)?t=e.GECKO:ne.isDef(n.chrome)&&ne.isDef(n.chrome.csi)?t=e.CHROME:ne.isDef(n.msWriteProfilerMark)&&ne.isDef(n.crypto)?t=e.MSEDGE:ne.isDef(n.attachEvent)||ne.isDef(n.msCrypto)?t=e.IE:ne.isDef(n.WebKitPoint)&&(t=e.WEBKIT)}catch(e){}return t},r=function(){var n=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"],r=y.NA,i=B.getDoc(),o=i.createElement("div");if(t(e.IE))try{if("-ms-ime-align"in i.documentElement.style)r="11";else{o.style.behavior="url(#default#clientcaps)";for(var a=0;a<n.length&&!(r=o.getComponentVersion(n[a],"componentid").replace(/,/g,"."));a++);}}catch(e){}return r},i=function(){var e=!1,t=B.getWindow();return ne.isDef(t.navigator)&&ne.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent),e};return{browserIs:t,hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=B.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=B.getWindow();return!(!e||!ne.isFunction(e.postMessage))},getDocumentMode:function(){var e=B.getDoc();return e&&e.documentMode?e.documentMode:y.NA},getBrowserType:n,getUserAgent:i,params:function(){return{br:n(),abv:r(),an:(e=y.NA,t=B.getWindow(),ne.isDef(t.navigator)&&ne.isDef(t.navigator.appName)&&(e=t.navigator.appName.toLowerCase()[0]),e)};var e,t},isAndroidWebViewBrowser:function(){var e=i();return _.contains(e,"Android")&&ne(["SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return _.contains(e,n)}))},getIOSVersion:function(){var e,t,n,r=i();return r&&(e=r.match(/OS\s\d+/))&&e.length>0&&(n=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),n}}},nt=function(){var e=function(){return!1},t=function(){return y.NA};return{getDocumentMode:t,getBrowserType:function(){return"u"},getIOSVersion:function(){},params:function(){return{br:"u",abv:t(),an:t()}},browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}},rt=function(){return{createInstance:function(e,t,n,r){return W.isDomless()?new nt:new tt}}},it=function(){var e,t,n=!1;e=function(e){var t=[];return t.push(e.slice(0,8)),t.push(e.slice(8,12)),t.push(e.slice(12,16)),t.push(e.slice(16,20)),t.push(e.slice(20)),t.join("-")}(function(){var e="";try{for(var t,n=v.a.Uint32Array&&v.a.crypto&&v.a.crypto.getRandomValues;e.length<32;)n?(t=new Uint32Array(1),v.a.crypto.getRandomValues(t),e+=t[0].toString(16)):e+=(16*B.random()|0).toString(16);e=e.slice(0,32)}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.UID_GENERATION)}return e}());var r=function(){return T.anId};return{getAsid:function(){return T.asid},getAnId:r,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return ne.toBase(n,62)},getFwId:function(){return r()||T.advEntityId+"-"+T.pubEntityId},impressionIsIdentifiable:function(e){return e&&(n=!0),n},unq:e,getAvidIds:function(){return t},setAvidAdSessionContext:function(e){t=e}}},ot=function(e){var t=0,n={},r=function(e,n,r){if(ne.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=ne.resolve(e.output);return this.props.asION&&(t=ne(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=ne(e.output).isObj()&&!i.asION,a=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?ne(e.output).each((function(e,t){a({output:t},e,i)})):a(e,t,i)};return e.on("addOutputItem",(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),ne.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}},at=function(e){return{resolve:function(){var t=ne(e).findFirst((function(e,t){return t.environment.accepts()}));if(ne.isDef(t))return t}}},st=function(e){var t,n=!1,r={winDimensions:$({scrX:0,scrY:0,width:0,height:0}),adDimensions:$({scrX:0,scrY:0,width:0,height:0}),containerDimensions:$({scrX:0,scrY:0,width:0,height:0}),method:y.NA,viewState:y.NA,percentInView:y.PIV_NA,reason:"",obstructed:y.NA,isHidden:y.NA,tabHidden:y.NA,posViewState:y.NA,adCompCount:1},i=function(e){return e?new $({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):$({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||y.NA,viewState:e.viewState||y.NA,percentInView:ne.isDef(e.percentageInView)?e.percentageInView:y.PIV_NA,reason:e.outOfViewReason||"",obstructed:ne.stringifyTriState(e.isObstructed),isHidden:y.NA,tabHidden:y.NA,posViewState:e.viewState||y.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var r=e.omidObstructions;ne.isDef(r)&&""!==r&&(t.omidObstructions=r),e.isMeasurable&&(!0,n&&(n=!1,se.getAggregator().trigger("delayedViewabilityReady")))};return{create:function(n){var i=r;return ne.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;ne.isDef(e)&&ne.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},ut=function(e,t,n){var r=ne.isDef(e)?e.environment:void 0,i=ne.isDef(e)?e.measurementStrategy:void 0,o=function(){return ne.isDef(i)};ne.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},dt=function(e,t,n){var r=se.getAggregator().request("mobileApp");return{create:function(){var t=[];t=(t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getAvidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new at(t).resolve();n||se.getAggregator().trigger("addOutputItem",{output:"0"},"oam",{type:"impression"});var i=new st(n);return new ut(n,i,r.isMobileAppEnvironment())}}},ct=function(){var e=C.findChildWithLargestContent(B.getDoc().body);return e&&e.hasValidSizeForMobileApp&&!e[y.IAS_DETECTOR]?e:void 0},gt=function(){var e=se.getAggregator().request("mobileApp");return{usePlaceholder:!0,detectionMethod:y.DETECTION_METHODS.AD_HUNT,isApplicable:e.isMobileAppEnvironment,find:function(){return ct()},getAdContainer:function(){return T.contextNode.parentNode},allowForAdContainerChange:!0}},mt=function(){var e=se.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&!e.isNative}}},lt=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=ne.isDef(ne(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(y.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},ft=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=ne.isDef(ne(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(y.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){e.addEventListener("start",(function(e){se.getAggregator().trigger("adImpression")}))}}},pt=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],vt=function(){var e=function(e){var t=!1;return pt.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},ht=function(e,t){var n=se.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=new vt,a=function(){var e=B.getDoc().getElementById("iasbi"+T.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(s(r),r=null)):B.setTimeout(a,50)},s=function(e){if(e&&e.data&&e.data.adView){var s=e.data.adView,d=!!(s.measuringElement&&s.containerGeometry&&s.onScreenContainerGeometry);if(n.delayingViewabilityEvents)r=e,i||(i=!0,a());else{var c=[];s.onScreenGeometry&&s.onScreenGeometry.obstructions&&s.onScreenGeometry.obstructions.length>0&&(d&&(s.onScreenContainerGeometry.obstructions=s.onScreenGeometry.obstructions),s.reasons.indexOf("obstructed")>-1&&s.percentageInView<100&&(s.onScreenGeometry.obstructions=s.onScreenGeometry.obstructions.slice(0,4),ne(s.onScreenGeometry.obstructions).each((function(e,t){c.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))));var g=new $(e.data.viewport||{width:0,height:0}),m=new $(s[d?"containerGeometry":"geometry"]||{x:0,y:0,width:0,height:0}),l=new $(s["onScreen"+(d?"Container":"")+"Geometry"]||{x:0,y:0,width:0,height:0}),f={viewport:g.getRoundedGeometry(),originalAdContainer:m.getRoundedGeometry(),computedAdContainer:l.getRoundedGeometry(),percentageInView:s.percentageInView,detectionMethod:y.DETECTION_METHODS.OMID,outOfViewReason:u(s.reasons),omidObstructions:c.join("_")};void 0===n.geometryArrived&&o.checkForViewAttachmentBasedOnAdSessionType(n,e.data.adView)&&(n.geometryArrived=!0,se.getAggregator().trigger("omidrendgeoupdate")),t.trigger(y.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,f)}}},u=function(e){var t={inactive:y.OUT_OF_VIEW_REASONS.FOCUS,viewport:y.OUT_OF_VIEW_REASONS.GEOM,clipped:y.OUT_OF_VIEW_REASONS.GEOM,obstructed:y.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:y.OUT_OF_VIEW_REASONS.FOCUS,notFound:y.OUT_OF_VIEW_REASONS.HIDDEN,hidden:y.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(ne(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&s(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",s)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(y.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:u}},Et=function(e,t){var n=se.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=new vt,a=function(){var e=B.getDoc().getElementById("iasbi"+T.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(s(r),r=null)):B.setTimeout(a,50)},s=function(e){if(e&&e.data&&e.data.adView)if(n.delayingViewabilityEvents)r=e,i||(i=!0,a());else{var s=e.data.adView.geometry,u=e.data.adView.containerGeometry,d=!!s,c=e.data.adView.measuringElement&&!!u,g=new $({x:d&&c?s.x-u.x:0,y:d&&c?s.y-u.y:0,width:d?s.width:0,height:d?s.height:0}).getRoundedGeometry();g,void 0===n.geometryArrived&&o.checkForViewAttachmentBasedOnAdSessionType(n,e.data.adView)&&(n.geometryArrived=!0,se.getAggregator().trigger("omidrendgeoupdate")),t.trigger(y.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:g,adFound:d})}};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&s(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",s)},addAdGeometryMeasurementChangedListener:function(e){t.on(y.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},It=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-T.birthdate||""}},r=function(){e||(e=se.getAggregator().request("viewabilityDefinitions")),e&&0==t.length&&ne(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){se.getAggregator().trigger("addOutputItem",{output:e.metricId},"metricId",{type:y.DT_CODES.CUSTOM}),se.getAggregator().trigger("addOutputItem",{output:"q"},"cmr",{type:y.DT_CODES.CUSTOM}),se.getAggregator().trigger("sendDt",y.DT_CODES.CUSTOM,t),e.rtsCallbacks&&ne.isFunction(e.rtsCallbacks[y.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[y.RTS_KEY_FOR_VQ]()};return{init:function(){r(),se.getAggregator().on("videoQuartileEvent",(function(e){var o,a,s,u,d;r(),o=new n(e),s=(a=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(ne(a).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),u=se.getAggregator().request("mScreenEvents").getCurrentEvent(),d=Math.floor(o.time/1e3),ne(t).each((function(e,t){var n=t.qivThreshold.indexOf(s);-1!==n&&t.isInView(u)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,d))}))}))}}},At=function(e,t){var n=[],r=(new Date).getTime(),i=0,o=0,a=!1,s=new It,u=se.getAggregator().request("omidAdSessionContext"),d={isEmpty:function(){return 0===n.length},toString:function(){for(var e="{vEventCount:"+n.length+",vEvents:[",t=0;t<n.length;t++){var r=n[t];e+=(t>0?",{":"{")+"t:"+r.t+",tp:"+r.tp+",sl:"+r.sl+",ad_duration:"+r.ad_duration+",volume:"+r.volume+"}"}return e+="]}"}},c=function(){a=!0},g=function(e){try{var s,d="",c=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),g="n",m=!1;switch(e.type){case"start":d="adVideoStart",u.videoStartArrived=!0,se.getAggregator().trigger("omidrendvideostart"),r=c,(o=e.data.duration)>1e3&&(o/=1e3),i=e.data.videoPlayerVolume;break;case"volumeChange":d="volumeChanged",i=e.data.videoPlayerVolume;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":d="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),m=!0,se.getAggregator().trigger("videoQuartileEvent",e);break;case"pause":case"bufferStart":d="pauseAd";break;case"resume":case"bufferFinish":d="resumeAd";break;case"skipped":d="adSkipped"}if(""!==d){var l=se.getAggregator().request("mScreenEvents");l&&(g=l.getCurrentLoc()),n.push({t:c-r,tp:d,sl:g,ad_duration:o,volume:i})}if("loaded"===e.type&&ne.isDef(e.data)){var f=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),p=-1!==f?f+1:void 0,h=!0===e.data.autoPlay?"autoplayed":"clicktoplay";!0===a?(ne.isDef(p)&&se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"vbp",p),se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"vps",h)):(ne.isDef(p)&&se.getAggregator().trigger("addOutputItem",{output:p},"vbp",{type:y.IMPRESSION_EVENT}),se.getAggregator().trigger("addOutputItem",{output:h},"vps",{type:y.IMPRESSION_EVENT}))}"start"===e.type&&se.getAggregator().trigger("omidAdDuration",{ad_duration:o}),"playerStateChange"===e.type?s="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!=="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(e.type)?s="AdPlaying":-1!=="complete|pause|bufferStart|skipped".indexOf(e.type)&&(s="AdPaused"),ne.isDef(s)&&t.trigger("videoPlaybackEvent",{eventType:s,eventData:null}),m&&se.getAggregator().trigger("sendDt",y.DT_CODES.VIDEO_EVENTS)}catch(e){E("omidvideo",e,v.a.bootstrapper)}};return{start:function(){se.getAggregator().on("impressionsent",c),se.getAggregator().provide({omidVideoEventsString:d}),e.addEventListener("video",g),s.init()},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},St=function(e,t,n){var r;var i=function(){var t,i,o,a=e.find(),s=!1;ne.isDef(a)?(o=!0,t={x:(i=a.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!ne.isDef(r)||!1!==ne(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(y.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(y.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Ot=function(e,t,n){var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){return{x:e.x+t.x,y:e.y+t.y,width:t.width,height:t.height}},a=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function s(e,t,n){var r=a(t,n),o=i(e,t,r);return o.width*o.height}var u=function(e){return d(e)?y.IN_VIEW:y.OUT_OF_VIEW},d=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,c){if(ne.isDef(r)&&ne.isDef(c)){var g,m,l=r.viewport,f=r.computedAdContainer,p=f.obstructions,v=r.omidObstructions,h=p&&p.length>0,E=r.originalAdContainer,I=c.adGeometry,A=c.adFound,S=r.detectionMethod,O=0,D={x:0,y:0,width:l.width,height:l.height},T=o(E,I),_=r.outOfViewReason,w=0,N=0,R=h||!1,C=I.width*I.height<=1;return n&&C&&(_=function(e,t){var n=e||"";return t||-1!==n.indexOf(y.OUT_OF_VIEW_REASONS.GEOM)||(n=y.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(_,A=!1)),A&&r.percentageInView>0?(w=s(D,f,T),N=h?function(t,n,r,s){var u=a(n,r),d=i(t,n,u),c=o(n,d);return e.calculateObstructedArea(c,s)}(D,f,T,p):0,O=Math.round((w-N)/(T.width*T.height)*100),h&&0===N&&(R=!1),m=function(n,r,i,o){var a,u,d,c,g=0,m=t.getConfig(i).numberOfSlices,l=B.floor(i.height/m)||1,f=[],p=o?e.getObstructionStatusBySlice(m):[];for(g=0;g<m;g++)c=i.y+l*g,g==m-1&&(l=i.y+i.height-c),u=s(n,r,a={x:i.x,y:c,width:i.width,height:l})/(a.width*a.height)==1,f.push(u);if(o)for(d=B.min(p.length,m),g=0;g<d;g++)f[g]=f[g]&&!p[g];return f}(D,f,new $(T).getRoundedGeometry(),R)):m=t.getConfig(I).defaultSliceArray,g={windowDimensions:D,containerDimensions:E,adDimensions:T,percentageInView:O,viewState:u(O),outOfViewReason:d(O)?"":_||y.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:S,isObstructed:R,sliceStatus:m},ne.isDef(v)&&""!==v&&(g.omidObstructions=v),g}}}},Dt=function(e){var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,a=r+n.width,s=i+n.height,u=Math.round(r);u<Math.round(a);u++)for(var d=Math.round(i);d<Math.round(s);d++)void 0!==e.matrix[u]&&void 0===e.matrix[u][d]&&(e.matrix[u][d]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},a=function(e,t,n){return e+(t-n)},s=function(e,t,n,r){return e==t||n===r-1},u=function(t){if(ne.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,u=e.getConfig({height:i}).numberOfSlices,d=B.floor(i/u)||1,c=[],g=0;g<i;g++){r=!1;for(var m=0;m<o;m++)if(1===t.matrix[m][g]){r=!0;break}n++,r&&(g=a(g,d,n),n=d),s(n,d,g,i)&&(c.push(r),n=0,r=!1)}return c};return{calculateObstructedArea:function(e,o){var a,s=o&&o.length>0,d=s?i(e):{},c=0,g=0;if(s){for(;c<o.length;c++)a=o[c],d=r(d,a);g=d.obscuredPixelCount,t=u(d)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},Tt=function(e,t,n,r){var i,o,a,s=function(){if(ne.isDef(i)&&ne.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,a=!0,n.trigger("geometryMeasurementChanged",e)}},u=function(e){i=e,s()},d=function(e){o=e,s()};return{start:function(){se.getAggregator().trigger("addOutputItem",{output:y.MEDIA_TYPE.DISPLAY_CODE},y.MEDIA_TYPE_CODE,{type:y.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(u),e.start(),t.addAdGeometryMeasurementChangedListener(d),t.start()},addMeasurementChangedListener:function(e){n.on("geometryMeasurementChanged",e)},getStrategyName:function(){return y.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return a}}},_t=function(e,t,n,r,i){var o,a,s,u,d,c=!1,g=!1,m=function(){if(!(ne.isUndef(a)||ne.isUndef(s)||ne.isUndef(u))){d=!0;var e=i.calculateGeometricMeasurement(a,s),t=c&&g,n=c&&e.percentageInView>=50,m={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:c,isVideoPlayingInFullscreen:t,isSoundOn:!0},l=e.omidObstructions;ne.isDef(l)&&""!==l&&(m.omidObstructions=l),t&&(m.percentageInView=100),t||n?m.viewState=y.IN_VIEW:(m.viewState=y.OUT_OF_VIEW,m.outOfViewReason=e.outOfViewReason||y.OUT_OF_VIEW_REASONS.VIDEO),o=m,r.trigger("videoGeometryMeasurementChanged",o)}},l=function(e){a=e,m()},f=function(e){s=e,m()},p=function(e){u=e;var t=e.eventType;"AdEnteredFullscreen"===t?g=!0:"AdExitedFullscreen"===t?g=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(c=!1),m()};return{start:function(){se.getAggregator().trigger("addOutputItem",{output:y.MEDIA_TYPE.VIDEO_CODE},y.MEDIA_TYPE_CODE,{type:y.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(l),e.start(),t.addAdGeometryMeasurementChangedListener(f),t.start(),n.addVideoPlaybackEventListener(p),n.start()},getStrategyName:function(){return y.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on("videoGeometryMeasurementChanged",e)},isMeasurable:function(){return d}}},yt=function(e){return{accepts:function(){return e.isAvidAvailable()},getAvidAdSessionContext:function(){return e.getAvidAdSessionContext()},isMediaType:function(t){var n,r=e.getAvidAdSessionContext();return e.isAvidAvailable()&&ne.isDef(r)&&(n=r.mediaType||y.MEDIA_TYPE.DISPLAY),t===n},supportsAdContainerGeometry:function(){var t,n,r,i,o=!1,a=e.getAvidAdSessionContext();return ne.isDef(a)&&(o=function(e){return ne.isUndef(e)}(t=a.avidJsVersion)||(n=t,r=ne.getNum(n.split(".")[0]),i=ne.getNum(n.split(".")[1]),2===r?i>=7:r>=3)),o}}},wt=function(e,t,n){var r=["rjss","jss","jload"],i=function(){var t=!1,n=e.getAvidAdSessionContext();return ne.isDef(n)&&(t=n.isDeferred),!t};return{accepts:function(){var e=ne.isDef(ne(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(y.MEDIA_TYPE.DISPLAY)&&e},isImmediate:i,isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){i()||e.addEventListener("ready",(function(){se.getAggregator().trigger("adImpression")}))}}},Nt=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=ne.isDef(ne(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(y.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!1},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){try{e.addEventListener("video",(function(e){"AdImpression"===e.eventSubType&&se.getAggregator().trigger("adImpression")}))}catch(e){}}}},Rt=function(e,t){var n=function(e){try{var n=e.eventSubType,r=e.eventData;t.trigger("videoPlaybackEvent",{eventType:n,eventData:r})}catch(e){}};return{start:function(){e.addEventListener("video",n)},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},Ct=function(){return{accepts:function(){return W.isAvidNative()}}},bt=function(){return{accepts:function(){return W.isAvid()&&!W.isAvidNative()}}},Mt=function(e,t){var n=function(e){var n=e.eventData.originalAdContainer,r=!!n,i=new $({x:0,y:0,width:r?n.width:0,height:r?n.height:0}).getRoundedGeometry();i,t.trigger("avidNativeGeometryChanged",{adGeometry:i,adFound:r})};return{start:function(){e.addEventListener("viewability",n)},addAdGeometryMeasurementChangedListener:function(e){t.on("avidNativeGeometryChanged",e)}}},$t=function(e,t){var n=function(e){var n,i=new $(e.eventData.viewport||{width:0,height:0}),o=new $(e.eventData.originalAdContainer||{x:0,y:0,width:0,height:0}),a=new $(e.eventData.computedAdContainer||{x:0,y:0,width:0,height:0});n={viewport:i.getRoundedGeometry(),originalAdContainer:o.getRoundedGeometry(),computedAdContainer:a.getRoundedGeometry(),percentageInView:e.eventData.percentageInView,detectionMethod:y.DETECTION_METHODS.AVID,outOfViewReason:r(e.eventData.reasons)},t.trigger(y.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,n)},r=function(e){var t={inactive:y.OUT_OF_VIEW_REASONS.FOCUS,viewport:y.OUT_OF_VIEW_REASONS.GEOM,clipped:y.OUT_OF_VIEW_REASONS.GEOM,obstructed:y.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:y.OUT_OF_VIEW_REASONS.FOCUS,notFound:y.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(ne(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){e.addEventListener("viewability",n)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(y.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateAvidOutOfViewReasons:r}},Vt=function(e,t){var n,r=function(e){var r,i;try{r=e.eventData.percentageInView,i={windowDimensions:{x:0,y:0,width:0,height:0},adDimensions:{x:0,y:0,width:0,height:0},containerDimensions:{x:0,y:0,width:0,height:0},shouldDelegateToDomBasedViewability:n&&r>=75,isMeasurable:0===r||r>=75,isObstructed:!1,isHidden:!1,numberOfAdverts:1,percentageInView:r,detectionMethod:"av"},t.trigger("screenLocationChanged",i)}catch(e){}};return{start:function(){try{var t=e.getAvidAdSessionContext().avidAdSessionType;n="display"===t||"video"===t,e.addEventListener("viewability",r)}catch(e){}},addScreenLocationChangedListener:function(e){t.on("screenLocationChanged",e)}}},Pt=function(e,t){var n=!1,r=function(e){return e>=50},i=function(e){var i=e.percentageInView;n=!0,e.viewState=function(e){return r(e)?y.IN_VIEW:y.OUT_OF_VIEW}(i),e.outOfViewReason=r(i)?"":y.OUT_OF_VIEW_REASONS.GEOM,t.trigger("measurementChanged",e)};return{start:function(){se.getAggregator().trigger("addOutputItem",{output:y.MEDIA_TYPE.DISPLAY_CODE},y.MEDIA_TYPE_CODE,{type:y.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(i),e.start()},getStrategyName:function(){return y.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on("measurementChanged",e)},isMeasurable:function(){return n}}},xt=function(e,t,n){var r,i,o,a,s=!1,u=!1,d=!1,c=function(e){return e<50},g=function(){if(!ne.isUndef(i)){var e,t,g=[];s?(u?(t=!1,e=100):(t=a,e=o),c(e)&&g.push(y.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,g.push(y.OUT_OF_VIEW_REASONS.VIDEO)),d=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return c(e)?y.OUT_OF_VIEW:y.IN_VIEW}(e),i.outOfViewReason=g.join("."),r=i,n.trigger("measurementChanged",r)}},m=function(e){i=e,o=e.percentageInView,a=e.shouldDelegateToDomBasedViewability,g()},l=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?u=!0:"AdExitedFullscreen"===t?u=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?s=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(s=!1),g()};return{start:function(){se.getAggregator().trigger("addOutputItem",{output:y.MEDIA_TYPE.VIDEO_CODE},y.MEDIA_TYPE_CODE,{type:y.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(m),e.start(),t.addVideoPlaybackEventListener(l),t.start()},getStrategyName:function(){return y.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on("measurementChanged",e)},isMeasurable:function(){return d}}},Ft=function(e,t,n){return{accepts:function(){var r=ne(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},Lt=function(e,t){return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,se.getAggregator().trigger("adImpression"))}))}catch(e){}}}},Ut=function(e,t){var n=!1,r=function(){var n,r,i;try{n=e.mraid.isViewable()?100:0;var o={x:0,y:0,width:0,height:0};i=100===n?[!0]:[!1],r={windowDimensions:o,adDimensions:o,containerDimensions:o,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:n,detectionMethod:y.DETECTION_METHODS.MRAID,sliceStatus:i},t.trigger("mraidScreenLocationChanged",r)}catch(e){}},i=function(){var t=e.mraid;!0,r(),t.addEventListener("viewableChange",r)},o=function(){var t=e.mraid;(function(){var t=e.mraid;return ne(t).isObj()&&ne.isFunction(t.isViewable)})()&&(n=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){i()})):i())},a=function(){n||o()};return{start:function(){var t;t=!0,(ne.isDef(e.mraid)||C.containsScriptTagWithSrc("mraid.js"))&&(t=!1),se.getAggregator().trigger("addOutputItem",{output:ne.stringifyTriState(t)},"mi",{type:"impression"}),t?se.getAggregator().trigger("exec","mraid.js",a):o()},addScreenLocationChangedListener:function(e){t.on("mraidScreenLocationChanged",e)}}},Gt=function(e,t){var n=function(e){try{var n=e.type;t.trigger("inMobiMraidVideoPlaybackEvent",{eventType:n})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(n)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on("inMobiMraidVideoPlaybackEvent",e)}}},Wt=function(){var e,t=y.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=y.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},jt=function(e){var t=se.getAggregator().request("mobileApp");return{getOmidMeasurementStrategies:function(){var e=se.getAggregator().request("omidVerificationClient"),t=new U(e),n=new G,r=[];if(t.accepts()&&!n.accepts()){var i=new L,o=new mt,a=new ht(e,new oe),s=[{environment:i,measurementStrategy:new Et(e,new oe)},{environment:o,measurementStrategy:new St(new gt,B.getWindow(),new oe)}],u=new at(s).resolve(),d=u?u.measurementStrategy:{},c=new Ot(new Dt(new Wt),new Wt,o.accepts()),g=new lt(e,t,T.mode),m=new Tt(a,d,new oe,c),l=new ft(e,t,T.mode),f=new _t(a,d,new At(e,new oe),new oe,c);r.push({environment:g,measurementStrategy:m}),r.push({environment:l,measurementStrategy:f})}return r},getAvidMeasurementStrategies:function(){var t=se.getAggregator().request("avidJsClient"),n=new yt(t),r=[];if(n.accepts()){var i,o,a=new wt(t,n,T.mode),s=new Nt(t,n,T.mode),u=new Rt(t,new oe);if(n.supportsAdContainerGeometry()){var d=new Ct,c=new bt,g=new St(new gt,B.getWindow(),new oe),m=new Mt(t,new oe),l=new at([{environment:d,measurementStrategy:m},{environment:c,measurementStrategy:g}]).resolve(),f=l?l.measurementStrategy:{},p=new Ot(new Dt(new Wt),new Wt,c.accepts()),v=new $t(t,new oe);i=new Tt(v,f,new oe,p),o=new _t(v,f,u,new oe,p)}else{var h=new Vt(t,new oe);i=new Pt(h,new oe),o=new xt(h,u,new oe)}r.push({environment:a,measurementStrategy:i}),r.push({environment:s,measurementStrategy:o}),e.setAvidAdSessionContext(n.getAvidAdSessionContext())}return r},getMraidMeasurementStrategies:function(){var e=[],n=t.isSafeToInjectMraid(),r=new Ft(B.getWindow(),n,t.isMobileAppEnvironment());if(r.accepts()){var i,o=se.getAggregator().request("context"),a=new Lt(B.getWindow(),o),s=new Ut(B.getWindow(),new oe);if(a.accepts()){var u=new Gt(B.getWindow(),new oe);i={environment:a,measurementStrategy:new xt(s,u,new oe)}}else{i={environment:r,measurementStrategy:new Pt(s,new oe)}}e.push(i)}return e}}},Bt=function(e,t){var n,r=t.request("adProxy").myIdCard,i=t.request("frameCollection").getMe().getStringifiedPosition();n=se.getAggregator().request("features").on("swapids")?T.oid:T.asid;var o,a;return{messageContent:e||{},srcAsid:T.asid,srcTagId:r.tagId,srcIsEmbedded:W.embedded,srcIsFriendly:W.friendly,srcBirthdate:T.birthdate,iasCommonId:n.split("-")[2],nodeSelector:W.friendly?"["+y.AD_IDENTIFIER+"-"+T.asid+"]":'iframe[src*="'+((a=(o=B.getWindow()).location&&o.location.href)&&a.replace(/^https?\:\/\//i,""))+'"]',positionStr:i,version:"0.1"}},kt=function(){var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return ne(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},Ht=function(e,t,n,r){var i,o=e==v.a;(i={position:t.slice(0),id:t.join("-"),isMe:o,isLeaf:!e.frames.length,adProxies:o?n:[],selfDescription:void 0,unifiedId:T.birthdate,srcIsEmbedded:r?r.srcIsEmbedded:void 0,inbox:r?[r]:[]}).getDomObj=function(){return e},i.getStringifiedPosition=function(){return ne(i.position).map((function(e,t){return ne.toBase(Number(t)+1,36)})).join("")},i.isValidForMapping=function(){return i.isLeaf||i.isMe||ne.isDef(i.selfDescription)};var a=function(e,t){return!ne(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return i.addInformationFromSrc=function(e,t){var n,r,o,s;n=t,r=i.adProxies,o=n.adProxies,s=[],r.length&&o.length?ne(o).each((function(e,t){a(r,t)&&s.push(t)})):s=o,i.adProxies=r.concat(s),function(e){ne(i.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||i.inbox.push(e)}(e),i.srcIsEmbedded=e.srcIsEmbedded,i.selfDescription=t},i},Yt=function(e){var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,a){var s=e.request("adProxy").getAll(),u=new Ht(i,o,s,a);return t.push(u),n[u.id]=u,u.isMe&&(r=u),u},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},qt=function(e,t){var n=function(e,n){var o=n.adProxies,a="";if(n.isValidForMapping())return a+=t?i(o,n.getStringifiedPosition()):r(o,n)},r=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},i=function(e,t){var n="";return e.length?n+=ne(e).stringify((function(e,n){return o(n,t)}),"|"):n+=t,n},o=function(e,t){return t+(T.asid===e.adSafeId?"*":"")+"."+e.tagId};return{output:function(){var t=e.request("frameCollection"),r=ne(t.list).stringify(n,"|");return ne.toBase(t.getMe().unifiedId,62)+"+"+r}}},Kt=function(e){var t=e.request("frameCollection").getMe().getStringifiedPosition(),n=T.contextNode.parentNode,r=e.request("interFrameQuerySelector",n),i=function(e){var i=!W.embedded,o="BODY"!==C.getNodeName(n)&&"HEAD"!==C.getNodeName(n),a=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(y.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return i&&o&&!a?!!function(e){return r.queryFor(e.nodeSelector)}(e):!!function(e){var n=e.positionStr,r=e.srcIsEmbedded&&W.embedded,i=0===t.indexOf(n)||0===n.indexOf(t);return r&&i}(e)};return{output:function(){var n,r,o=t+"*";return(r=e.request("adTalkMessageCollection").map((function(e,t){var n;return e!==T.asid&&i(t)&&(n=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(t)),n}))).push(o),n=r.join("|"),n.length>120&&(n=function(e){return e&&e.substr(0,120)+".of"+e.length}(n),se.getAggregator().trigger("stopAdTalk")),n},isCandidateForMyIdMap:i}},Xt=function(e){var t=new Pe,n=function(e,t){return C.querySelector(function(e){var t=e,n="IFRAME"===C.getNodeName(e),r=C.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,a,s;try{(a=n(r,i))||(o=t.getFrames(!0,e),ne(o).findFirst((function(e,t){return s=n(t,i)})))}catch(e){}return a||s||null}(e,r)),i}}},zt=function(e){var t,n,r=!1,i=se.getAggregator().request("features");n=i.on("swapids")?T.oid:T.asid;var o=function(t){var r=n.split("-")[2],i=!e.request("adTalkMessageCollection").has(t)&&t.srcAsid!==T.asid;return t.hasOwnProperty("messageContent")&&r===t.iasCommonId&&i},a=function(){var t=e.request("frameCollection").getMe(),n={self:t,unifiedId:t.unifiedId};return e.request("adTalkMessage",n)},s=function(){var t=y.DT_CODES.ADTALK;e.request("frameCollection");r||(r=!0),se.getAggregator().trigger("sendDt",t)},u=function(t,n,i){var o,a,u,d,c,g,m;try{o=e.request("frameCollection"),a=e.request("adTalkMessageCollection"),u=n.messageContent.self,a.add(n),g=o.getMe(),m=u,g.unifiedId>m.unifiedId&&(g.unifiedId=m.unifiedId),n.transferDuration=function(e){return B.now()-e.sentTime}(n),d=o.getFrame(u.id),c=d,ne.isUndef(c)||ne.isUndef(c.selfDescription)?((d=d||o.addFrame(t.source,u.id.split("-"),n)).addInformationFromSrc(n,u),i()):d.addInformationFromSrc(n,u),r&&e.request("idMapModule").isCandidateForMyIdMap(n)&&s()}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:s,sendToKnownFrames:function(){(new xe).send(a)},startListening:function(){(t=new Le).listen(o,u,a)},stopListening:function(){t&&t.stop()},validateMessage:o,processMessage:u,createMessage:a}},Jt=function(){var e=se.getAggregator().request("ids"),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},Qt=function(){var e,t=[],n=function(e){var n=new Jt(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},Zt=function(e){var t,n,r,i=new ae,o=new Pe,a=new Yt(i),s=new kt,u=new Qt,d=new zt(i,e),c=function(){return ne.isUndef(r)&&(r=new Kt(i)),r};return{isApplicable:function(e){return ne.isDef(v.a.JSON)&&ne.isDef(v.a.postMessage)&&!e.isAvid()&&!e.isOmidNative()},start:function(){i.provide({frameCollection:function(){return a},adProxy:function(){return u},adTalkMessage:function(e){return new Bt(e,i)},adTalkMessageCollection:function(){return s},idMapModule:c,interFrameQuerySelector:function(e){return new Xt(e)}}),o.traverse(a.addFrame),d.startListening(),d.sendToKnownFrames(),se.getAggregator().once("stopAdTalk",(function(){d.stopListening()})),se.getAggregator().provide("adTalkEventAggregator",i)},sendAdTalkCall:d.sendAdTalkCall,getFrameMap:function(){return ne.isUndef(t)&&(t=new qt(i)),t},getFrameMapIncludingPeerCase:function(){return ne.isUndef(n)&&(n=new qt(i,!0)),n},getIdMap:c}},en=function(){return{isApplicable:function(){return!1},start:function(){}}},tn=function(){return{createInstance:function(e){return W.isDomless()?new en:new Zt(e)}}},nn=function(){var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},r={omidObstructions:["sl","percentInView","reason"]};se.getAggregator().on("newScreenEvent",(function(r){var o=ne(r).selectProperties(ne(n).keys()),a=ne(o).asStrings(),s=ne(a).compareTo(t);(s=i(s))&&JSON.stringify(s)!==JSON.stringify({})&&(s.t=W.getTagTime(),e.push(s)),ne(t).mixin(a)}));var i=function(e){return ne(r).each((function(t,n){var r=!1;ne(n).each((function(t,n){e[n]&&(r=!0)})),!1===r&&delete e[t]})),e};return{toString:function(){return ne(e).toION(n)}}},rn=function(e){var t=!1;return{measure:function(n){(t=0===n.rsa)&&e.trigger("notify",T._onSuspicious)},skipAsFraudulent:function(){return t}}},on=function(){var e,t,n,r,i=!1,o=!1,a=se.getAggregator().request("features"),s=new re,u=function(){return ne.isDef(e.prop)?B.getDoc()[e.prop]:null},d=function(){var e,t;return a.on("blur")?(t=B.getWindow(),e=W.friendly&&t.top.document&&(ne.isFunction(t.top.document.hasFocus)||ne(t.top.document.hasFocus).isObj())&&!t.top.document.hasFocus()||u()):e=u(),e};return t="hidden",n="visibilitychange",r=B.getDoc(),ne.isUndef(r.hidden)?ne(["moz","ms","webkit"]).each((function(e,o){var a=o+"Hidden";ne.isDef(r[a])&&(t=a,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:d,onHiddenChange:function(t){var n,r;s.push(t),o||(o=!0,n=B.getWindow(),r=function(){s.run(d())},N.addEvent(n,"focus",r,!0),N.addEvent(n,"blur",r,!0),e.event&&N.addEvent(B.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},an=function(){return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},sn=function(){return{createInstance:function(){return W.isDomless()?new an:new on}}},un=function(){var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(se.getAggregator().request("adNode"))return parseFloat(se.getAggregator().request("videoVersion"))};return{isApplicable:function(e,t,n){return!function(e){return e.isVideo()&&!(e.isAvid()||e.isMraid()||e.isOmid())&&r()<3.7}(n)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=B.getWindow().location.ancestorOrigins,t=!0}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return ne.last(e)},sendOriginList:function(){var t;t="ao:"+(e?ne(e).map(n).reverse():[]).join(","),se.getAggregator().trigger("addOutputItem",{output:t},"tpiLookup",{type:y.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),se.getAggregator().trigger("sendDt",y.DT_CODES.THIRD_PARTY)}}},dn=function(e,t){var n,r=function(){var r,i=function(){var e=t.getWindow(),n=!1;if(ne.isDef(e.navigator)&&ne.isDef(e.navigator.userAgent)){e.navigator.userAgent;var r=e.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);if(null!==r&&2==r.length){var i=r[1].split("."),o=i[0];if(3==parseInt(o,10)){var a=i[1];if(parseInt(a,10)<=6)if(3==i.length){var s=i[2];parseInt(s,10)<=13&&(n=!0)}else n=!0}}}return n},o={};try{o.a=encodeURIComponent(top.location.href)}catch(e){}try{o.b=encodeURIComponent(parent.location.href)}catch(e){}if(W.embedded){try{o.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{o.e=encodeURIComponent(v.a.document.referrer)}catch(e){}}try{"jsi"!==T.mode&&(o.d=encodeURIComponent(v.a.location.href))}catch(e){}try{o.f=encodeURIComponent(T.jsref)}catch(e){}try{r=function(){var e={};try{e.q=t.getWindow().parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(t){var n=t.message,r=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">"));ne.isDef(r)&&i()&&(e.g=r)}return e}(),o.g=encodeURIComponent(r.g||""),o.q=encodeURIComponent(r.q||""),e.isStarted()&&!r.g&&e.getMyFrameDepth()>1&&(o.g=encodeURIComponent(e.getTopDomain()))}catch(e){}o=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],ne.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(o=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];(""===n||"null"===n||"undefined"===n||null===n||ne.isUndef(n))&&delete e[t]}return e}(o));var a=[];for(var s in o)o.hasOwnProperty(s)&&a.push({key:s,val:o[s]});return a.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),n=a,a};return{detectTopURL:r,getDetectedURLs:function(){return n||r()}}},cn=function(){return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},gn=function(){return{createInstance:function(e,t){return W.isDomless()?new cn:new dn(e,t)}}},mn=function(e){e=e||ne.identity;var t=[],n=B.now(),r=function(){var e=B.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}},ln=function(){var e,t,n,r=[],i={},o={sl:"n"},a=0,s={i:0,o:0,n:0,pp:0,pm:0},u=function(e,t){var n=new mn(t);return i[e]=n,n},d=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},c=function(){ne(o).each((function(e,t){var i=r.length?n-a:n;s[t]+=i})),a=n},g=function(e){r.length&&c(),ne(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(s[n]+=s.n),o[e]=t})),r.length||c()},m=function(e){y.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},a=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;ne.isDef(r)&&r.hasValidDims()&&(n.wc=r),ne.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions);return ne({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];ne.isDef(i)&&(n[t]=i)})),""===(t=ne(n).toParams())?"":","+t}(e),s=e.omidObstructions,u={sl:d(e.viewState)};return n=W.getTagTime(),g(u),u.t=n,r=ne({toString:function(){return ne(i).each((function(e,t){t.fastForward()})),"{"+ne(u).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+ne(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+ne(this.as).stringify(t)+"]")+"}"}}}).mixin(u),ne(r).mixin(e),r.width=o.width,r.height=o.height,ne.isUndef(r.percentInView)&&(r.percentInView=y.PIV_NA),ne.isUndef(r.reason)&&(r.reason=""),ne.isDef(s)&&""!==s&&(r.omidObstructions=s),t=r,r};return u("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(ne(r).each((function(e,i){ne.isUndef(t)&&n<i&&(t=r[e-1])})),ne.isUndef(t)&&(t=r[r.length-1])),t})),u("as",(function(e){var t=y.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height})),{fastForward:function(){n=W.getTagTime(),c()},registerLocation:function(t){var n,a=!1;return o.sl==d(t.viewState)&&r.length?(n=new m(t),r[r.length-1].details=n.details):(n=new m(t),r.push(n),e=t.viewState,a=!0),se.getAggregator().trigger("newScreenEvent",n),ne(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(a&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=ne({slTimes:"{"+ne(s).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:u,getCurrentLoc:function(){return d(e)},getCurrentEvent:function(){return t}}},fn=function(e){var t,n,r=!1,i=function(e){var i=!0;return r&&(r=!1,e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.cancelBubble=!0,t=e.screenX-e.clientX,n=e.screenY-e.clientY,i=!1),i};return e.browserIs(y.BROWSERS.IE)&&N.addEvent(B.getDoc().documentElement,"click",i,!0),{determineFramePosition:function(){return e.browserIs(y.BROWSERS.IE)&&(r=!0,B.getDoc().documentElement.click()),{scrX:t,scrY:n}}}},pn=function(){y.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),a=Math.min(n.scrX+n.width,r.scrX+r.width)-i,s=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return $({scrX:i,scrY:o,width:a>0?a:0,height:s>0?s:0})};return{calcInitialViewState:function(e,t){var n,r=y.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},ne.isDef(e)&&e!==y.NA&&e>-1&&(r=e>=n.IN_VIEW?y.IN_VIEW:e<=n.OUT_OF_VIEW?y.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?y.PARTIAL_VIEW_PLUS:y.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,a=t;return t.hasValidDims()&&!t.isHidden()&&(ne([n,r,i]).each((function(t,n){n.hasValidDims()&&(a=e(a,n))})),o=B.round(a.area()/t.area()*100)),o}}},vn=function(e){var t={},n=e instanceof Array&&e.length>0;return n&&(ne(e).each((function(e,n){var r;t[(r=n).getType()]=r})),se.getAggregator().on("perfCheckpoint",(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),se.getAggregator().provide("perfActive",(function(){return n})),{isActive:n}},hn=function(e,t){var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),ne(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return ne(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},En=function(){var e=y.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new hn(y.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},In=function(){var e=y.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new hn(y.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},An=function(){var e=y.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new hn(y.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},Sn=function(){var e=y.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT;return new hn(y.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)},On=function(){function e(){}return e.build=function(){var e=[];e.push(Sn());var t,n=(t=se.getAggregator().request("vc"))?{jv3:An,av3:An,jvw:In,avw:En}[t]:void 0;return n&&e.push(n()),e},e}(),Dn=function(){return{calcDims:function(e,t){var n,r,i=new $(e);return C.isClippable(e,t)&&(n=C.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(W.isSpecifiedAd()||W.isBustedIframe())&&C.nodeIsInWindow(e,B.getTop()),n=!C.elementIsEmbedded(e);return t||n}}},Tn=function(){var e=se.getAggregator().request("iframeCalculatorHelper");return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(W.isSpecifiedAd()||W.isBustedIframe())&&C.elementIsEmbedded(e)}}},_n=function(){var e;return{calcDims:function(t,n,r){var i=ne.isDef(r)?r.getAdNodeDimensions():void 0;return e&&ne.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=Re(),n=se.getAggregator(),r=n.request("browser"),i=n.request("features"),o=n.request("context");return o.isDeviceTypeGroupMobile()&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},yn=function(){var e=se.getAggregator().request("iframeCalculatorHelper");return{calcDims:function(t){var n=e.calcDims(),r=new $(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(W.isSpecifiedAd()||W.isBustedIframe())&&W.embedded&&!C.nodeIsInWindow(t,B.getTop()),r=W.isCeltra()&&C.elementIsEmbedded(e);return n||r}}},wn=function(e,t){var n,r,i=[yn(),Tn(),Dn()];return r=ne(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=_n()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},Nn=function(){return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},Rn=function(e,t){var n,r,i=y.NA,o=i,a=!1,s=!1,u=!1,d=!t,c=se.getAggregator().request("browser"),g=function(){var t=B.getIntersectionObserver((function(e){var t=e.pop(),r=t.intersectionRect.width*t.intersectionRect.height/(t.boundingClientRect.width*t.boundingClientRect.height)*100;isNaN(r)&&(!function(e){if(c.browserIs(y.BROWSERS.WEBKIT)&&c.hasResizeObserver()){var t=e.target,r=B.getResizeObserver((function(t){var a=t.pop(),s=a.contentRect.height*a.contentRect.width,u=e.intersectionRect.height>0||e.intersectionRect.width>0;s>0&&0===i&&u&&(i=100),n=a.contentRect,i!==o&&(r.disconnect(),B.execAtEndOfThread((function(){se.getAggregator().trigger("IOPivChange",i)}))),o=i}));r.observe(t)}}(t),r=0),i=Math.min(r,100),n=t.boundingClientRect,i!==o&&B.execAtEndOfThread((function(){se.getAggregator().trigger("IOPivChange",i)})),o=i}),{threshold:y.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});d&&B.execAtEndOfThread((function(){i===y.NA&&(i=0)})),t.observe(m(e)),d&&B.execAtEndOfThread((function(){W.isBustedIframe()||se.getAggregator().trigger("delayedViewabilityReady")})),a=!0},m=function(t){if(!ne.isUndef(t)){if(u){var n=e.document,i=n.createElement("div");ne(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[y.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(u=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){s=!0}return t}();t&&null!==t.bodyElement?g():t&&t.document?N.whenReady(g,t.document):s?se.getAggregator().request("errors").add(y.ERROR_CODES.BUSTED_IFRAME_IN_IO):g()},isReady:function(){return i!==y.NA},isStarted:function(){return a},getAdNodeDimensions:function(){var e;return n&&(e=$({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},Cn=function(e,t,n,r){var i=Math.ceil(e),o=Math.ceil(t),a=Math.ceil(n),s=Math.ceil(r),u=o-i,d=s-a,c=u*d,g=function(){return{leftX:i,rightX:o,topY:a,bottomY:s,width:u,height:d,area:c}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},bn=function(e,t){var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},a=function(e){var t,n=function(){var e=[];return ne(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var a=n[r],s=n[r+1];i.push(new Cn(0,e,a,s))}},s=function(e,t){i.push(e),a(t),ne(r).each((function(e,t){t(i)}))},u=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,a,d=e.pop(),c=d.boundingClientRect,g=c.width,m=d.intersectionRatio,l=d.intersectionRect,f=(t=c,r=(n=l).left-t.left,i=r+n.width,o=n.top-t.top,a=o+n.height,new Cn(r,i,o,a));s(f,g),1===m&&u()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},Mn=function(e){var t,n,r,i=se.getAggregator().request("features"),o=se.getAggregator().request("browser");e=e||B.getWindow();var a=function(t,n){t=t||e,n=n||{top:0,left:0,width:B.getMaxNumber(),height:B.getMaxNumber()};for(var r,i=t.parent.frames,o=!1,s=0,u=i.length;s<u;s++)if(i[s]==t){r=i[s],o=!0;break}if(o){var d=C.getRect(r.frameElement);n.left+=d.left,n.top+=d.top;try{n.width=B.min(n.width,d.width),n.height=B.min(n.height,d.height)}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.GET_AD_DIMENSIONS)}t!==B.getTop()&&a(t.parent,n)}return n},s=function(){var s,u,d,c,g,m,l,f,p,v,h,E,I={};try{h=B.getMaxNumber(),E=B.getMaxNumber(),W.friendly?(l=(g=a()).left,f=g.top,h=g.width,E=g.height,p=(m=C.browserWindowPosition()).scrX+l,v=m.scrY+f):i.on("rattie")&&o.browserIs(y.BROWSERS.IE)?(p=0,v=0,r=r||se.getAggregator().request("ieXDomainViewability"),p=(n=r.determineFramePosition()).scrX,v=n.scrY):ne.isDef(e.mozInnerScreenX)&&(p=B.round(e.mozInnerScreenX),v=B.round(e.mozInnerScreenY)),I={scrX:p,scrY:v,iFrameClippingWidth:h,iFrameClippingHeight:E},c=t||C.getIeDimObj(e),t=c,ne.isDef(e.innerWidth)?(u=e.innerWidth,d=e.innerHeight):c&&ne.isDef(c.clientWidth)?(u=c.clientWidth,d=c.clientHeight,0===u&&c.offsetWidth>0&&(u=c.offsetWidth),0===d&&c.offsetHeight>0&&(d=c.offsetHeight)):e.frameElement&&ne.isDef(e.frameElement.clientWidth)&&(u=e.frameElement.clientWidth,d=e.frameElement.clientHeight),s={width:u,height:d},I.height=s.height,I.width=s.width}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.GET_AD_DIMENSIONS)}return I};return{calcDims:function(){return new $(s())},getClippedDims:function(){var e=s();return new $({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},$n=function(e){var t=[],n=function(e,t,n){return new Cn(0,e,n,n+t)};return function(){if(e.height<10)t.push({geometry:new Cn(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r,i=Math.floor(e.height),o=i%10,a=(i-o)/10,s=0;s<10;s++){var u=s<o?a+1:a,d={geometry:n(e.width,u,r||0),percentageInViewContribution:10,isInView:!1};t.push(d),r=d.geometry.value().bottomY}}(),{getSlices:function(){return t}}},Vn=function(e,t){var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return ne(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),a=Math.max(r.leftX,o.leftX),s=Math.min(r.rightX,o.rightX),u=Math.max(r.topY,o.topY),d=Math.min(r.bottomY,o.bottomY);n.push(new Cn(a,s,u,d))}})),n}(e,t);return ne(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){ne(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],ne(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([W.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],ne(e).each((function(e,t){n.mbpr.push(y.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return ne(e).each((function(e,n){t.push(n.isInView)})),t}}},Pn=function(e){var t=Wt();return{getSliceStatus:function(n,r,i,o){var a,s=[],u=n.getRounded(),d=u.height,c=u.scrY,g=new $({scrX:u.scrX,width:u.width}),m=t.getConfig(u).numberOfSlices;g.set("height",B.floor(d/m));for(var l=0;l<m;l++)g.set("scrY",B.ceil(c+d/m*l)),a=100===e.calcPercentInView(g,r,i,o),s.push(a);return s}}},xn=function(e,t,n,r,i,o){var a,s,u,d,c,g,m,l,f,p,h=C.getElementsWindow(t),E=(C.getElementsDocument(t),se.getAggregator().provide("iframeCalculatorHelper",Mn(h)),wn(t,r)),I=y.AD_IDENTIFIER+"-"+T.asid,A=!1,S=$({}),O=W.isDeviceTypeGroupMobile(),D=W.usesGroupMCustomMetricMobilePassThru(),_=function(){return a||(a=E.calcDims(t,r,u),w()?R(a):n===y.DETECTION_METHODS.AD_PLACEHOLDER&&a.treatAsPlaceholder()),a},w=function(){return n===y.DETECTION_METHODS.VIDEO&&W.embedded},R=function(e){var n=new $(t).getRounded();try{e.set("width",n.width),e.set("height",n.height)}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},b=function(){return!1},M=function(){var t,n=x(),r=E.getClippedDims&&(w()||W.isCeltra());return n?s=u.getPiv():ne.isUndef(s)&&(t=!O&&(W.friendly||ne.isDef(v.a.mozInnerScreenX))&&i.on("offscreen"),l=_(),m=new $(C.calcWinDims()),g=new $(t?C.calcMonDims():{}),f=r?E.getClippedDims():S,s=e.calcPercentInView(l,m,g,f)),s},V=function(){return e.calcInitialViewState(M())},P=function(){return t!==v.a&&_().isHidden()},x=function(){var e=W.xDomainIframe&&A,t=O&&A&&u.isReady();return e||t};return function(){var r=B.getWindow(),i=B.getDoc(),o=t===r,a=i.body,s=se.getAggregator(),g=new Re,m=s.request("browser"),l=s.request("features"),f=s.request("context"),v=!W.xDomainIframe,h=o&&a?i.body:t;if(p=W.friendlyIframe?r.frameElement:h,N.addEvent(h,"click",(function(){se.getAggregator().trigger("adComponentClicked")})),N.addEvent(h,"mouseover",(function(){se.getAggregator().trigger("adComponentMousedOver")})),g.applies(m,l,f)){if((u=Rn(t,v)).start(),A=!0,D&&n!==y.DETECTION_METHODS.AD_PLACEHOLDER){var E=new $n(_().getRounded()),I=new Nn,S=new bn(u.getObservedNode(),I);d=new Vn(E.getSlices(),S)}}else D&&(c=new Pn(e))}(),{mark:function(){C.setAttributeOf(p,I,"")},cleanup:function(){C.removeAttributeOf(p,I)},isNode:function(e){return t===e},isHidden:P,isObstructed:b,getDims:_,getPercentInView:M,getLocationState:V,getOnPageViewability:function(){return P()?y.OUT_OF_VIEW:V()},getDetectionMethod:function(){return n},getContainerDims:function(){return E.allowsOptimization?a:$(r)},refresh:function(){a=void 0,s=void 0,g=void 0,m=void 0,l=void 0,f=void 0,o&&function(){var e,n;if(!W.isDomless()&&(n=t.parentNode)){for(;t!==v.a&&n&&n!==document&&!e;)e=n===r,n=n.parentNode;e||(r=t.parentNode)}}()},getAdNode:function(){return t},getSliceStatus:function(){var e;return d&&d.isReadyToMeasure()?e=d.getSliceStatus():W.friendly&&c&&ne.isDef(l)&&(e=c.getSliceStatus(l,m,g,f)),e}}},Fn=(et().events,function(e,t){var n,r=[],i=ne([]),o=function(){return r[0]&&r[0].getDetectionMethod()===y.DETECTION_METHODS.AD_PLACEHOLDER},a=function(a,s,u,d){var c,g=o()||0===r.length,m=xn(e,a,s,u,t,d);o()&&(c=r.shift(),i=ne(r),c.cleanup(),n=void 0),r.push(m),i=ne(r),g&&m.mark(),g&&s!==y.DETECTION_METHODS.AD_PLACEHOLDER&&se.getAggregator().trigger("primaryadfound",m)},s=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var a,s=i.getDims();s.hasValidDims()&&(e=i.getPercentInView(),t=e!==y.NA,a=s.area(),r+=a,o+=e/100*a)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},u=function(e){var t=se.getAggregator().request("adRenderStatus");return!e&&!t},d=function(e){var t,n=s();return t=n.hasMeasurement?B.round(n.totalInView/n.totalArea*100):y.PIV_NA,(isNaN(t)||u(e))&&(t=0),t},c=function(n){var r=t.bootstrapOn("mobOrTab"),i=s().totalArea>=y.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!W.isVideo();return e.calcInitialViewState(d(n),i)},g=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},m=function(e){return function(){return r[0]&&r[0][e]()}};return se.getAggregator().on("adComponentAdded",(function(e){ne(e).each((function(e,t){-1===g(t)&&a(t,y.DETECTION_METHODS.MUTATION)}))})),se.getAggregator().on("adComponentRemoved",(function(e){ne(e).each((function(e,t){var n=g(t);n>-1&&r.splice(n,1)}))})),{getDims:m("getDims"),isObstructed:m("isObstructed"),getDetectionMethod:m("getDetectionMethod"),getContainerDims:m("getContainerDims"),getViewState:c,getViewStateIgnoringRender:function(){return c(!0)},getPercentInView:d,getPercentInViewIgnoringRender:function(){return d(!0)},isHidden:m("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:a,getOutOfViewReasons:function(e){var t,i=[],o=r[0],a=y.OUT_OF_VIEW_REASONS;return o&&(t=n||c(),u(e)?i.push(a.RENDER):t!==y.OUT_OF_VIEW&&t!==y.PARTIAL_VIEW_MINUS||i.push(a.GEOM),o.isHidden()&&i.push(a.HIDDEN),o.isObstructed()&&i.push(a.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:m("getSliceStatus")}}),Ln=function(e){var t=!1;if(!ne.isUndef(v.a.MutationObserver)){var n=new v.a.MutationObserver((function(e){B.execAtEndOfThread((function(){t&&ne(e).each((function(e,t){t.addedNodes.length&&se.getAggregator().trigger("adComponentAdded",t.addedNodes),t.removedNodes.length&&se.getAggregator().trigger("adComponentRemoved",t.removedNodes)}))}))})),r=function(){t=!0,B.setTimeout((function(){t=!1}),40)};se.getAggregator().on("adComponentClicked",r),se.getAggregator().on("adComponentMousedOver",r);N.whenReady((function(){try{n.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(y.ERROR_CODES.AC_WATCHER)}}),B.getDoc())}},Un=function(){var e,t,n,r=function(e){e?e&&n&&(B.execAtEndOfThread((function(){se.getAggregator().trigger("delayedViewabilityReadyCallOnly")})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||x();var n=C.crossQuerySelector(x().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},Gn=function(){var e,t=function(){B.execAtEndOfThread((function(){se.getAggregator().trigger("delayedViewabilityReadyCallOnly")}))};return{usePlaceholder:!1,detectionMethod:y.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=b().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=C.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},Wn=function(){return{detectionMethod:y.DETECTION_METHODS.IFRAME,find:function(){return v.a},isApplicable:function(){return W.embedded},getAdContainer:function(){return T.contextNode.parentNode},allowForAdContainerChange:!0}},jn=function(){var e;return{detectionMethod:y.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return W.isSpecifiedAd()},find:function(){var t=C.crossQuerySelector(T._cl_adpath);return t&&(e=C.getParent(t),C.getNodeArea(t)<1&&(e=t,t=C.findElementsWithSize(t))),t},getAdContainer:function(){return e},allowForAdContainerChange:!0}},Bn=function(e,t){var n,r=e||T.contextNode.parentNode,i=C.findChildWithLargestContent(r,t);return C.getNodeArea(i)>1&&!i[y.IAS_DETECTOR]&&(n=i),n},kn=function(){return{usePlaceholder:!0,detectionMethod:y.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:Bn,getAdContainer:function(){return T.contextNode.parentNode},allowForAdContainerChange:!0}},Hn=function(){return{detectionMethod:y.DETECTION_METHODS.VIDEO,find:se.getAggregator().request("video").findAdNode,isApplicable:W.isVideo,getAdContainer:function(){return T.contextNode.parentNode},allowForAdContainerChange:!0}},Yn=function(){var e;return{detectionMethod:y.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return W.isCompoundAd()},find:function(){var t,n,r=[];return(t=T._cl_adpath,/\[(.*)\]/.exec(t)[1].split(",")).forEach((function(t){(n=C.crossQuerySelector(t))&&(e=C.getParent(n),C.getNodeArea(n)<1&&(e=n,n=C.findElementsWithSize(n))),r.push(n)})),r},getAdContainer:function(){return e},allowForAdContainerChange:!0}},qn=function(e,t){var n=[Yn(),jn()],r=[gt(),Hn(),Un(),Gn(),Wn(),kn()],i=n.concat(r);return ne(i).findFirst((function(n,r){return r.isApplicable(e,t)}))},Kn=function(e,t,n){var r,i=se.getAggregator().request("browser"),o=T&&T.contextNode&&T.contextNode.parentNode?T.contextNode.parentNode:null,a=Fn(t,n),s=function(){var e;a.hasAd()||(e=C.getPlaceholderSpan(),o.insertBefore(e,T.contextNode.nextSibling),a.addAdComponent(e,y.DETECTION_METHODS.AD_PLACEHOLDER,C.getParent(e)))},u=function(e,t){var n=!1;ne(e).each((function(e,t){t.addedNodes&&t.addedNodes.length>0&&(n=!0)})),n&&(se.getAggregator().trigger("nodesAdded"),t.disconnect())},d=function(){W.isDeviceTypeGroupMobile()&&i.hasMutationObserver()&&B.getMutationObserver(u).observe(o,{childList:!0})};return Ln(e),{find:function(){var e,t,i,o;return a.isUsingPlaceholder()||!a.hasAd()?!(e=(r=r||qn(W,n)).find())&&r.usePlaceholder?(s(),d()):e&&(i=ne(e).isArray()?e:[e],t=r.getAdContainer(),o=r.allowForAdContainerChange,ne(i).each((function(e,n){a.addAdComponent(n,ne.resolve(r.detectionMethod),t,o)}))):a.refresh(),a},getDetectionMethod:function(){}}},Xn=function(){var e=function(){return null};return{find:e,getDetectionMethod:e}},zn=function(){return{createInstance:function(e,t,n){return W.isDomless()?new Xn:new Kn(e,t,n)}}},Jn=function(e,t,n,r){var i,o=function(e,t){return{viewState:y.NA,posViewState:y.NA,embedded:W.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),a=t.getOutOfViewReasons(),s=n.isHidden(),u=r.isDeviceTypeGroupMobile()&&i?i:$(C.calcWinDims()),d=t.getDims();return i=u,t.hasAd()&&u.hasValidDims()&&d.hasValidDims()?(!0===s&&a.push(y.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:u,adDimensions:d,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:a.length?y.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:a.join("."),obstructed:ne.stringifyTriState(t.isObstructed()),isHidden:ne.stringifyTriState(t.isHidden()),tabHidden:ne.stringifyTriState(s),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(u,d)}}},Qn=function(){return{collect:function(){return{}}}},Zn=function(){return{createInstance:function(e,t,n,r){return W.isDomless()?new Qn:new Jn(e,t,n,r)}}},er=function(e,t,n,r,i){return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return i?function(){var n=se.getAggregator().request("adRenderStatus"),i=r||t,o=e.getTimeInViewInSeconds();n||se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"nr_"+i,o)}:function(){var i=e.getTimeInViewInSeconds(),o=e.getTimeInViewForRts();ne.isDef(r)&&(se.getAggregator().trigger("addOutputItem",{output:r},"metricId",{type:t}),se.getAggregator().trigger("addOutputItem",{output:"t"},"cmr",{type:t})),se.getAggregator().trigger("sendDt",t,i),n[o]&&n[o]()}}}},tr=function(){return{createPingJobs:function(e,t,n,r,i){return ne(t.getTimeThresholds()).map((function(t,o){return new er(o,e,n,r,i)}))}}},nr=function(e,t,n,r,i,o,a,s){var u=0,d=0,c=!1,g=function(e,t,o,s,g,m){o=o||!n.on("postDts");var l=e===y.DT_CODES.DIAGNOSTIC||e===y.DT_CODES.ADTALK||e===y.DT_CODES.SCA||e===y.DT_CODES.XSCA||e===y.DT_CODES.EXTERNAL||e===y.DT_CODES.LARGE_BILLABLE;if(r.impressionIsIdentifiable()&&(l||"n"!==a.getCurrentLoc()))try{var v=T.dtBaseURL,h=new F(v,!0),I=B.now();se.getAggregator().trigger("preSendDt",e),v||(h.path("dt"),n.on("usedtdomain")&&h.sub("dt")),f(h,e,t),g&&g.field&&h.setParam(g.field,g.value),s||p(h,e),se.getAggregator().trigger("send",h,(function(){d+=1,u=B.now()-I,ne.isFunction(m)&&m()}),o),e===y.DT_CODES.UNLOAD&&(c=!0),i.cleanup()}catch(t){E("dt-"+e,t),se.getAggregator().trigger("error",y.ERROR_CODES.PHONE_HOME)}},m=function(){if(!c){var e=y.DT_CODES.UNLOAD;g(e,-1,!0)}},l=function(e,t){var r={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},i=T.mode,o=r[e]||r[i];t=t||i+"Diag",n.on(t)&&o&&g(y.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:o})},f=function(e,t,n){var o=new $e(t),a=ne.isDef(n)?n:o.enumerator;e.setParam("asId",T.asid);var s={c:r.getCacheBustId(),pingTime:a,time:W.getTagTime(),type:t};i.filterOutput((function(e){var n=e.minDt&&(!e.type||e.type===t);return n&&e.oneTime&&(e.flagForRemoval=!0),n}),s),e.setParam("tv",s)},p=function(e,r){var c,g,m={};i.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===r}),(function(t,n){e.setParam(t,n.replace("%3A",":"))})),a.fastForward(),function(e){return e===y.DT_CODES.CUSTOM||e===y.DT_CODES.UNLOAD||e===y.DT_CODES.VIDEO_EVENTS||e===y.DT_CODES.FULLY_INVIEW||e===y.DT_CODES.PING||e===y.DT_CODES.VIEWABILITY_READY||e===y.DT_CODES.ADTALK}(r)&&(m.clog=s,W.isVideo()&&(g=W.isOmid()&&!W.isOmidForWeb()?"omidVideoEventsString":"videoEventsString",(c=se.getAggregator().request(g))&&!c.isEmpty()&&(m.ve=c))),r===y.DT_CODES.UNLOAD&&(m.ndt=d),-1!==T.mode.indexOf("jsvid")&&(m.vv=se.getAggregator().request("videoVersion")),m.NULL1=n.output(),m.NULL2=a.stringify(10),m.em=W.embedded,m.fr=W.friendly,m.e=t.toString(),m.tt=T.mode,m.dtt=u,i.filterOutput((function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==r);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),m),e.setParam("tv",m),e.setParam("br",o.getBrowserType())};return se.getAggregator().on({sendDt:function(e,t,n){g(e,ne.resolve(t),void 0,void 0,void 0,n)},sendMinDt:function(e,t){g(e,t,void 0,!0)},sendDiag:l,updateDtCount:function(){d++},unload:m}),{send:g,unload:m,diagnostic:l,setViewabilityMod:function(e){e}}},rr=function(e,t,n,r){return{enabled:"true"===T.useBapiCallback,callback:function(t){n.trigger("sendDiag");try{"true"===T.accountForSadImps&&r.measure(t),T._onAPIResult&&T._onAPIResult(t)}catch(t){e.add(y.ERROR_CODES.BAPI_CALLBACK),n.trigger("sendDiag","bapiClient")}}}},ir=function(e,t,n){var r=function(e,t){var n,r=e;return t&&(n=","+ne(t).stringify((function(e,t){return e+":"+t}),","),(r=F(e,!0)).appendToParamValue("adsafe_jsinfo",n),r=r.toString()),r},i={jss:{isFW:!0,nodeType:"script"},rjss:{isFW:!0,nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(n){e.enabled?se.getAggregator().trigger("jsonp",n,e.callback,!0):se.getAggregator().trigger("send",n,(function(){se.getAggregator().trigger("sendDiag")}),!t.on("postMon"))}},bapi:{impressionMethod:function(t){var n=e.enabled?e.callback:ne.noop,r=!!e.enabled;se.getAggregator().trigger("jsonp",t,n,r)}},jsapi:{isFW:!0,impressionMethod:function(t){var n=e.enabled?e.callback:ne.noop,r=!!e.enabled;se.getAggregator().trigger("jsonp",t,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(n){se.getAggregator().on("adImpression",(function(i,o){var a;try{a=r(n,o),e.enabled?se.getAggregator().trigger("jsonp",a,e.callback,!0):se.getAggregator().trigger("send",a,ne.noop,!t.on("postMon"))}catch(e){E("jsvidimp",e,T)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(e){var t="false"===T.fwMonitoring;t&&se.getAggregator().trigger("jsonp",function(e){var t;return(t=e.split("/"))[3]="db2",t[4]="video",t.join("/")}(e),(function(e){se.getAggregator().trigger("videoBlockResult",e)})),se.getAggregator().on("adImpression",(function(n,i){var o,a;try{t&&((a=n)&&ne.isBool(a.integral_didBlock)&&a.integral_timeToDecision>=0)&&(e=function(t){var n="$1$2,abc:"+(t.integral_didBlock?1:0)+",abct:"+t.integral_timeToDecision;return e.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(n)),o=r(e,i),se.getAggregator().trigger("send",o,ne.noop,!0)}catch(e){E("fwjsvidimp",e,T)}}))}},jspix:{nodeType:"img"}};return new function(){var e=i[T.mode],t=!!e.isFW,r=function(e){var t;return t=se.getAggregator().request("mobileApp").isMobileAppEnvironment()&&T.mobFwUrl?T.mobFwUrl:e?T.adsafeSrc:T.requrl,e||(t+="?"+T.reqquery),t}(t),o=r.indexOf("BEGIN__ADSAFE"),a=-1!==o,s=a?r.slice(o):"";return{isFW:t,baseUrl:a?r.slice(0,o):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(r),macroUrl:s,sendImpression:function(t){var r=function(){e.nodeType?se.getAggregator().trigger("addNode",e.nodeType,t):e.impressionMethod(t)};n||e.manualDefer?r():e.manualDefer||se.getAggregator().on("adImpression",(function(){r()}))}}}},or=function(e,t){var n,r=e||1,i=0,o=0,a=0;return{start:function(){i%r==0&&(n=B.now())},stop:function(){var e=n||t;i%r==0&&(a+=B.now()-e,o++),i++},getTime:function(){return a},getCount:function(){return o}}},ar=function(e,t,n,r,i,o,a,s,u,d){var c=!1,g=W.isVideo(),m=o.request("mobileApp"),l=Re().applies(n,i),f=n.browserIs(y.BROWSERS.GECKO)||n.browserIs(y.BROWSERS.IE)&&i.on("rattie")||l,p=W.xDomainIframe&&!f,v=new or(10),h=function(){i.on("viewabilityready")&&!c&&(r.send(y.DT_CODES.VIEWABILITY_READY),o.trigger("measurable"),c=!0)};o.on("delayedViewabilityReady",(function(){E(),h()})),o.on("delayedViewabilityReadyCallOnly",h);var E=function(n){n=n||!1;try{var r,i;v.start(),t.hasMeasurementStrategy()?i=m.isMobileAppEnvironment()&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(s.collect(),n):(i=s.collect(),m.isMobileAppEnvironment()?(i.viewState=y.NA,i.method=y.NA,i.percentInView=y.NA):p&&(i.viewState=y.NA,i.percentInView=y.PIV_NA),g&&!W.isAvid()&&d.setVideoSpecificScreenEventFields(i)),r=u.registerLocation(i),n||e.trigger("measurementChanged",i),v.stop();var c=B.round(v.getTime()/v.getCount());return a.addItem({output:c},"lt",{type:y.DT_CODES.UNLOAD}),r}catch(e){o.trigger("error",y.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:E,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":g?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=W.xDomainIframe,r=e&&n.browserIs(y.BROWSERS.WEBKIT),i=e&&n.browserIs(y.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&l);return m.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){m.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on("measurementChanged",t)}}},sr=function(e){var t=e,n=function(e){var t=0,n=null,r=-1;function i(e){if(i=e,o=C.getNodeName(i),a=C.isNodeCreative(i)||"IFRAME"===o,o&&a&&!C.isEmptyTeadsFrame(e)){var t=C.getNodeArea(e);t>r&&(n=e,r=t)}var i,o,a}e.length&&se.getAggregator().request("useYieldSearch")?function r(){do{i(e[t]),t+=1}while(t%50!=0&&t<e.length);t<e.length?B.execAtEndOfThread(r,0):se.getAggregator().trigger("creativeFinderBatchCompleted",n)}():function(){for(;t<e.length;t++){i(e[t])}se.getAggregator().trigger("creativeFinderBatchCompleted",n)}()};return{searchDescendants:function(e){var r=function(e){var n,r,i=[],o=t;for(n=0;n<o.length;n++){var a=o[n].toLowerCase(),s=e.getElementsByTagName&&e.getElementsByTagName(a);if(s&&s.length)for(r=0;r<s.length;r++)i.push(s[r])}return i}(e||T.contextNode.parentNode);n(r)}}},ur=function(){var e,t=["STYLE","SCRIPT","HEAD","META"],n=y.RENDER.CREATIVE_NODE_TYPES.concat(y.RENDER.CONTAINER_NODE_TYPES),r=0,i=T.useFIF&&W.friendlyIframe||W.isSpecifiedAd(),o=function(e){var t,n,i=e,o=e,a=W.friendly?B.getTop().document.body:T.contextNode.ownerDocument.body;for(;r<3;){if(a&&i===a){o=i,r=3;break}C.isWindow(i)&&(n=void 0,n="["+y.AD_IDENTIFIER+"-"+T.asid+"]",t=C.crossQuerySelector(n),i=ne.isDef(t)?t:i),o=i=ne.isDef(i)&&i.parentNode||i,r++}return o},a=function(e){var r=function(e){var r,i,o=[],a=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),s=a&&a.length;if(a)for(var u=0;u<s;u++)i=(r=a[u])&&r.nodeName&&r.nodeName.toUpperCase(),!r.children||0!==r.children.length||ne(n).contains(i)||ne(t).contains(i)||ne(o).contains(i)||o.push(i);return o}(e);return n.concat(r)},s=function(e){var t=i?o(e):e;return C.isWindow(t)?function(e){var t;try{t=e.document}catch(e){t=T.contextNode.ownerDocument}return t}(t):"IFRAME"===C.getNodeName(t)?e.contentWindow.document:t},u=function(t){var n=C.isNodeXDomainIframe(t)||C.isNodeCreative(t),r=!t;if(e=r?T.contextNode.parentNode:t,n||r)se.getAggregator().trigger("evaluateCreativeFinderResult",t);else{var i=s(t),o=a(i);new sr(o).searchDescendants(i)}};return se.getAggregator().on("creativeFinderBatchCompleted",u),{find:u,getClosestContainerName:function(){return C.getNodeName(e)}}},dr=function(e){var t,n=!1,r=!1,i="1",o="0",a=function(){n=!0,u()},s=function(e){t=e,u()},u=function(){se.getAggregator().trigger("addOutputItem",{output:!t&&n?i:o},"rmeas"),t&&t.message&&!r&&(E("renderloop",t,T),se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.ENVIRONMENT,"rle",1),r=!0)};se.getAggregator().on("eligiblerender",a),se.getAggregator().on("renderdiag",s),u()},cr=function(){var e=[],t=[],n=function(e){var t;if(C.isWindow(e))t="WINDOW";else if(C.isNodeXDomainIframe(e))t="XIFRAME";else try{t=C.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return ne(t).each((function(e,t){n.push(t)})),ne(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&C.getRect(e),a=e&&"IMG"===i,s=e&&C.hasBackgroundImage(e),u=e&&e.children&&0===e.children.length,d=e&&e.innerText&&e.innerText.length>0,c=u&&d,g=o&&o.width>=y.RENDER.WIDTH_THRESHOLD&&o.height>=y.RENDER.HEIGHT_THRESHOLD?y.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:y.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE,m=(s||a)&&(0===e.naturalWidth||0===e.naturalHeight);t.push(i),t.push(g),m&&t.push(y.RENDER.DIAGNOSTIC.BROKEN_IMAGE),s&&t.push(y.RENDER.DIAGNOSTIC.STYLED_NODE),c&&t.push(y.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},gr=function(){var e,t=!1,n=!1,r=!1,i={status:y.RENDER.STATUS.OTHER,details:y.RENDER.DETAILS.OTHER},o={status:y.RENDER.STATUS.DETECTED,details:y.RENDER.DETAILS.ENVIRONMENT},a=se.getAggregator().request("omidAdSessionContext"),s=function(){t=!0,r=!0},u=function(e){e&&(e.status=y.RENDER.STATUS.DETECTED),se.getAggregator().trigger("adRendered")},d=function(e){e===y.RENDER.STATUS.DETECTED&&se.getAggregator().trigger("perfCheckpoint",{type:y.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:B.now(),code:y.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE})},c=function(n){var r=e.build(),o=n.status||i.status,a=r||i.details;t&&o===y.RENDER.STATUS.DETECTED?function(e,t){d(e),se.getAggregator().trigger("addThrottledOutputItem","rend",e),se.getAggregator().trigger("addThrottledOutputItem","renddet",t)}(o,a):function(e,t){d(e),se.getAggregator().trigger("addOutputItem",{output:e},"rend"),se.getAggregator().trigger("addOutputItem",{output:t},"renddet")}(o,a)},g=function(){se.getAggregator().on("primaryadfound",(function(t){var n,r=i,o=new ur,a=!0,s=function(){n?B.clearInterval(n):a=!1};se.getAggregator().on("evaluateCreativeFinderResult",(function(t){var n,i,a,d,g,m;C.isNodeXDomainIframe(t)?(s(),i=t,a={},d=B.getDoc(),g="complete"===d.readyState,m=function(t){var n=t&&t.type;("readystatechange"===n&&"complete"===t.target.readyState||"load"===n)&&(u(a),e.saveNode(i),"readystatechange"===n?e.save(y.RENDER.DIAGNOSTIC.DOCUMENT_READY):"load"===n&&e.save(y.RENDER.DIAGNOSTIC.LOAD_FIRED),c(a),N.removeEvent(i,"load",m),N.removeEvent(d,"readystatechange",m))},g?(u(a),e.saveNode(i),e.save(y.RENDER.DIAGNOSTIC.DOCUMENT_READY)):(N.addEvent(i,"load",m),N.addEvent(d,"readystatechange",m)),r=a):t?(function(e){var t=!1,n=C.getRect(e);return e&&"IMG"===C.getNodeName(e)&&(t=0===e.naturalWidth||0===e.naturalHeight),!t&&n.width>=y.RENDER.WIDTH_THRESHOLD&&n.height>=y.RENDER.HEIGHT_THRESHOLD}(t)&&(u(r),s()),e.saveNode(t)):(n=o.getClosestContainerName()||e.getAdNodeName(t)||r.details,e.save(n)),c(r)}));var d,g,m,l,f=function(){var e=t&&t.getAdNode();try{o.find(e)}catch(e){se.getAggregator().trigger("renderdiag",e)}},p=se.getAggregator().request("mobileApp");p&&p.isMobileAppEnvironment&&p.isMobileAppEnvironment()&&W.isMraid()?(d=B.getWindow().mraid,g=d&&d.getState&&d.getState(),m=i,l=function(){N.removeEvent(d,"ready",l),e.save(y.RENDER.DETAILS.ENVIRONMENT),e.save(y.RENDER.DIAGNOSTIC.MRAID_READY),u(),c({status:y.RENDER.STATUS.DETECTED})},e.save(y.RENDER.DETAILS.ENVIRONMENT),"default"===g?(u(),e.save(y.RENDER.DIAGNOSTIC.MRAID_DEFAULT),m.status=y.RENDER.STATUS.DETECTED):"loading"===g?(N.addEvent(d,"ready",l),e.save(y.RENDER.DIAGNOSTIC.MRAID_LOADING)):(N.addEvent(d,"ready",l),e.save(y.RENDER.DIAGNOSTIC.MRAID_UNKNOWN)),c(m)):(f(),a&&(n=B.setInterval(f,500))),se.getAggregator().trigger("eligiblerender")}))},m=function(){var t=a&&!!a.isVideo,r=a&&!!a.videoStartArrived,i=a&&!!a.geometryArrived;return!(n||!i||t&&!r)&&(se.getAggregator().trigger("eligiblerender"),e.save(y.RENDER.DETAILS.ENVIRONMENT),e.save(y.RENDER.DIAGNOSTIC.OMID_RENDERED),u(),c(o),n=!0,!0)};return{start:function(){var t,n=!1;se.getAggregator().trigger("perfCheckpoint",{type:y.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:B.now(),code:"initial"}),se.getAggregator().on("adRendered",(function(){n=!0})),se.getAggregator().provide("adRenderStatus",(function(){return n})),se.getAggregator().provide("useYieldSearch",(function(){return r})),e=new cr,new dr,se.getAggregator().on("impressionsent",s),t=!1,W.isOmid()&&a&&a.useOMID13Logic&&(t=!0),t?m()||(e.save(y.RENDER.DETAILS.ENVIRONMENT),e.save(y.RENDER.DIAGNOSTIC.OMID_UNRENDERED),c(i),se.getAggregator().on("omidrendgeoupdate",(function(){m()})),se.getAggregator().on("omidrendvideostart",(function(){m()}))):W.isAvid()||W.isOmid()||W.isVideo()?(se.getAggregator().trigger("eligiblerender"),e.save(o.details),u(),c(o)):(c(i),g())}}};var mr=function(){var e,t,n;e=(n=se.getAggregator().request("omidAdSessionContext")).app&&n.isDisplay&&!n.isWeb,(t=T.mobFwUrl&&T.mobFwUrl.indexOf("/blocking/")>-1)&&n.isLimitedSandbox&&"1"===T.adWidth&&"1"===T.adHeight&&(n.isLimitedSandbox=!1),e&&t&&(n.delayingViewabilityEvents=!0),"app"!==n.environment&&!0!==T.mobAppWebview||(T.mobOrTab=!0)},lr=function(){var e=function(){var e=T.asid;return"__IntegralAS_"+(e&&e.replace(/\-/g,"")||"")+"_"+B.round(1e4*Math.random())};return{wrap:function(t,n,r,i){var o,a,s,u=e();return function(e,t){return new RegExp(t).test(e)}(t=""+t,i=i||"ias_callback")&&(a=(o=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(t,i)).split("=")[1],s=_.stringToFn(a),t=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(t,o)),v.a[u]=function(e){n(e),r&&s&&s(e),v.a[u]=void 0},t=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(t,i,u)},wrapToGlobal:function(t){var n=e();return v.a[n]=function(e){t(e),v.a[n]=void 0},n}}},fr=function(){return{listenForResult:function(){se.getAggregator().on("videoBlockResult",(function(e){var t=se.getAggregator().request("adNode"),n=!1,r="blockAd"+T.videoId;"failed"===e.action&&(n=!0),t&&ne.isDef(t.blockAd)?t.blockAd(n):t&&ne.isDef(t[r])&&t[r](n)}))}}},pr=function(){var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}},vr=function(e,t){var n,r,i,o,a,s=se.getAggregator().request("videoTranslator");return i=s.translate(e.messageType),o=function(e){var t=e.eventData||{},n=ne({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n}(e),a=function(e){var t,n=e.eventData&&e.eventData.ext_passthrough;return n&&(t=ne(n).mapToObj((function(e,t){var n={};return n["x_"+e]=t,n}))),t}(e),r={t:e.time-T.birthdate,tp:i,sl:t},ne(r).mixin(o),ne(r).mixin(a),n=ne({indicatesPlaying:function(){return-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(i)},indicatesNotPlaying:function(){return-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(i)},indicatesFullscreen:function(){var e=B.getWindow();return!("resizeAd"!==i&&"initAd"!==i||"fullscreen"!==o.viewMode&&o.width!==e.screen.width)},indicatesNormalSize:function(){return"resizeAd"===i&&"normal"===o.viewMode},indicatesQuartile:function(){return-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(i)},indicatesCompletion:function(){return-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(i)},getVolume:function(e){return e.getVolumeFromContext(o)},updateScreenLoc:function(e){r.sl=e,n.sl=e},trigger:function(){"adImpression"===i?se.getAggregator().persistentTrigger(i,o,a):se.getAggregator().trigger(i,o,a)},toString:function(){return"{"+ne(r).toParams()+"}"}}).mixin(r)},hr=function(){var e=[];return{registerEvent:function(t,n,r){var i=new vr(t,n,r);return e.push(i),i},toString:function(){return"{"+ne({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}"},isEmpty:function(){return 0===e.length}}},Er=function(){return{getVolumeFromContext:function(e){var t,n=-1;return ne.isDef(e)&&(ne.isDef(e.volume)?n=e.volume:ne.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}},Ir=function(){var e,t,n,r=function(r){n=ne.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&se.getAggregator().trigger("sendDt",y.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},a=function(e){var t=(new Er).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){se.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:a,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=se.getAggregator().request("isFullyInViewProvider");return!t||n&&n.isFullyInView(e)}))}}},Ar=function(e,t,n){var r,i,o,a="IASid"+e,s="getIasVidBridgeVersion"+e,u=[],d=y.OUT_OF_VIEW,c=!1,g=!1,m=!1,l=!0,f=new hr,p=Ir(),v=new fr,h=new Er,I=new It,A=function(e){var t;return c=!0,t=S(e),u.push(t),o&&w(),t},S=function(t){var r,i,o={};try{o=JSON.parse(unescape(t&&t.data?t.data:t))}catch(e){o={}}return o.id==e&&((r=f.registerEvent(o,n.getCurrentLoc())).indicatesPlaying()?(g=!0,d=!!m&&y.IN_VIEW):r.indicatesNotPlaying()?(g=!1,d=y.OUT_OF_VIEW):r.indicatesFullscreen()?(m=!0,d=g?y.IN_VIEW:y.OUT_OF_VIEW):r.indicatesNormalSize()&&(m=!1,d=!g&&y.OUT_OF_VIEW),(i=parseFloat(r.getVolume(h)))>0?l=!0:0===i&&(l=!1)),r},O=function(){return r||(ne(["*[data-integralas-vid-"+e+"]",".integral-vid-"+e,"ias-ad","object","embed"]).findFirst((function(e,t){var n=B.getDoc().querySelectorAll(t);return r=function(e){return ne(ne(e).toArray()).findFirst((function(e,t){return ne.isFunction(t[a])}))}(n)})),!r&&t.on("novidnodeerr")&&E("novidnode",{},T)),r},D=function(){var t=O();return t&&!c&&function(t){var n,r,i=lr().wrapToGlobal(A);try{r=t[s]||t.getIasVidBridgeVersion,n=ne.isFunction(r)&&"2"===r.call(t)?unescape(t[a].call(t,e,i)):unescape(t[a].call(t,e)),c=!0,function(e){ne.isStr(e)&&(se.getAggregator().provide("vc",(function(){return e})),se.getAggregator().trigger("addOutputItem",{output:e},"vc",{type:"impression"}))}(n||"n")}catch(e){E("handshakefailure",e,T)}}(t),t},_=function(e){var t=h.getVolumeFromContext(e);l=!!ne.isDef(t)&&t>0},w=function(){I.init(),ne(u).each((function(e,t){t&&(ne.isUndef(t.sl)&&t.updateScreenLoc(n.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&se.getAggregator().trigger("adSessionComplete"),t.indicatesQuartile()&&("adVideoComplete"!==t.tp&&se.getAggregator().trigger("sendDt",y.DT_CODES.VIDEO_EVENTS),se.getAggregator().trigger("videoQuartileEvent",t)))})),u=[],o=!0},R=function(){return m&&g};return N.addEvent(B.getWindow(),"message",(function(e){A(e)})),se.getAggregator().on({volumeChanged:_}),se.getAggregator().provide({videoEventsString:f,videoVersion:function(){var e,t=D();try{e=t.getVersion()}catch(t){e=-1,se.getAggregator().trigger("error",y.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return i=i||new pr},adNode:D}),D(),v.listenForResult(),p.isApplicable(W)&&p.start(n),{findAdNode:D,getViewStateOverride:function(){return d},isHandshakeComplete:function(){return c},triggerInitializationEvents:w,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===y.NA;if(e.isVideoPlaying=!0,e.isSoundOn=l,e.isVideoPlayingInFullscreen=!1,d){if(d===y.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=y.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:d,e.isVideoPlaying=d===y.IN_VIEW}R()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}};var Sr=function(e,t){var n=(new L).accepts(),r=!W.isAvid()&&!n&&!W.isInMobiMraidVideo();return W.isVideo()&&r?Ar(T.videoId,e,t):{}},Or=function(e){var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},Dr=function(e,t){var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=B.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},Tr=function(){var e=-1,t=function(t){if(!n()){var r=ne.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return se.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},_r=function(e){var t=[];if(ne(e.tiv).isArray())ne(e.tiv).each((function(e,n){t.push(new Or(n))}));else if("string"==typeof e.tiv){var n=e.tiv.split("|"),r=new Tr;t.push(new Dr(r,parseInt(n[1].replace("%")))),t.push(new Or(1e3*parseInt(n[0])))}else ne.isDef(e.tiv)&&t.push(new Or(1e3*e.tiv));return{getTimeThresholds:function(){return t}}},yr=function(e,t){var n,r,i,o=e.on("everySecond"),a=t.isVideo(),s=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],u=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],d=[2e3,5e3,15e3],c=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(y.IN_VIEW+"|"+y.PARTIAL_VIEW_PLUS).indexOf(e[n])};return o?(n=new _r({tiv:s}),r=s[0]):a?(n=new _r({tiv:d}),r=d[0]):(n=new _r({tiv:u}),r=u[0]),(i={5e3:T._onInViewMRC5,15e3:T._onInViewMRC15})[r]=T._onInViewMRC,{timeInViewThresholds:n,type:y.DT_CODES.PING,rts:i,isInView:c,isInViewIgnoringRender:function(e){return c(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},wr=function(){var e=new _r({tiv:[1e4]}),t=ne([y.IN_VIEW,y.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:e,type:y.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var n=B.max(e.fullPercentInView||0,e.percentInView);return t.contains(e.viewState)&&100===n},applies:function(e,t){return e.on("abcAudit")&&925955==T.anId&&t.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Nr=function(e,t){return{timeInViewThresholds:new _r({tiv:[0]}),type:y.DT_CODES.FULLY_INVIEW,rts:{0:T._onInViewFull},isInView:function(e){var t=B.max(e.fullPercentInView||0,e.percentInView);return-1!==(y.IN_VIEW+"|"+y.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return t.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Rr=function(e,t){var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),a=function(e){var t=B.max(e.fullPercentInView||0,e.percentInView);return-1!==(y.IN_VIEW+"|"+y.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new _r(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),se.getAggregator().provide("isFullyInViewProvider",{isFullyInView:a}),{timeInViewThresholds:n,type:y.DT_CODES.FULLY_INVIEW,isInView:a,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},Cr=function(e,t,n){var r=t.isVideo()?"video":"display",i=t.isMobileApp()?"app":"web",o=t.isDeviceTypeGroupMobile()?"mobile":"desktop",a=ne(e.customViewability).isArray()&&e.customViewability.length>0,s=n.on("customMetric"),u=n.on("groupmCM"),d=function(e,t){var n,a,s,d;return n=ne(t.mediaTypes).contains(r),a=ne(t.distributionChannels).contains(i),s=!ne.isDef(t.deviceGroups)||ne(t.deviceGroups).contains(o),d=!_.contains(t.id,"fiv"),_.contains(t.id,"groupmCM")&&(d=u),d&&n&&a&&s};return{resolve:function(){var t,n=[];return s&&a&&(t=ne(e.customViewability).filter(d),ne(t).each((function(e,t){n.push(t)}))),n}}},br=function(e,t){var n,r,i,o,a,s,u=B.getMaxNumber(),d=t.isVideo(),c=e.id,g=e.sound&&"on"===e.sound,m=!(e.soundExcl&&"groupm_native"===e.soundExcl&&T.groupm_native_publisher)&&g,l=function(t,n){if(!t.adDimensions)return!1;var r,i,o,a,s=n?"percentInViewIgnoringRender":"percentInView",c=t.adDimensions.area(),g=1===t.tabHidden,l=B.max(t.fullPercentInView||0,t[s]);return r=ne(e.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||u,c>=i&&c<=o)return!0})),a=!g&&l>=r.piv,function(e){return e.method==y.DETECTION_METHODS.AD_PLACEHOLDER}(t)&&function(e){return 0===e.tiv}(e)&&(a=!1),d&&(a=a&&t.isVideoPlaying,m&&(a=a&&t.isSoundOn)),a};return n=new _r(e),r=e.qiv,i={},ne.isDef(T.rts)&&ne.isDef(T.rts[c])&&(a=n&&ne.isFunction(n.getTimeThresholds)&&n.getTimeThresholds()[0],s=ne.isDef(a)?ne.isFunction(a.getTimeInViewForRts)&&a.getTimeInViewForRts():y.RTS_KEY_FOR_VQ,i[s]=T.rts[c]),o=e.minunit?1e3*e.minunit:1e3,{timeInViewThresholds:n,qivThreshold:r,type:y.DT_CODES.CUSTOM,rts:i,isInView:l,isInViewIgnoringRender:function(e){return l(e,!0)},metricId:c,minUnit:o,thresholdType:e.thresholdType,shouldIncludeSound:m,sendOtherwiseInViewSignal:!0}};var Mr=function(e){var t=new yr(e,W),n=new wr,r=new Nr(e,W),i=Rr(e,W),o=new Cr(T,W,e).resolve(),a=[t],s=[];return i.applies()&&a.push(i),r.applies()&&a.push(r),n.applies(e,W)&&a.push(n),ne(o).each((function(e,t){a.push(new br(t,W)),s.push(t.id)})),s.length>0&&(se.getAggregator().trigger("addOutputItem",{output:s.join(".")},"scm",{type:y.IMPRESSION_EVENT}),se.getAggregator().trigger("addOutputItem",{output:s},"metricIdList",{type:y.DT_CODES.UNLOAD,asION:!0})),a},$r=function(e,t,n){return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},Vr=function(e,t,n){var r={};return n&&ne(n).map((function(n,i){var o,a;r[n]=(o=i,a=ne.noop,t.bootstrapOn("useViewabilityNotification")&&(a=function(){e.skipAsFraudulent()||se.getAggregator().trigger("notify",o)}),a)})),{getCallbacks:function(){return r}}},Pr=function(e){var t={};return{doEligibleJobs:function(n){ne(e).each((function(e,r){var i=r&&r.getTime();ne.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},xr=function(e){var t,n=0,r=W.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=W.getTagTime(),o=!1},mark:function(){t=o?W.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=W.getTagTime(),o=!0}}},Fr=function(e,t,n,r){var i,o,a,s,u,d,c=function(e,t){return!t&&e},g=function(e,t,n,r){return!!r||!t&&(e||r)&&n},m=function(e){var c,m=0,f=1===e.tabHidden,p=e.isVideoPlaying,v=e.isSoundOn,h=e.isVideoPlayingInFullscreen;ne(e.sliceStatus).each((function(e,t){a(t,f,p,h)?i[e].mark():i[e].stop(),s[e]=i[e].getTotalTime()})),l("slcVt",s),r&&(ne(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return g(e,t,n,r)&&i}(t,f,p,h,v)?o[e].stop():o[e].mark(),u[e]=o[e].getTotalTime()})),l("slcVtVol",u)),d=r&&t&&t.shouldIncludeSound?u:s,c=ne(d).findFirst((function(e,t){return m=Math.max(m,t),t<=0})),ne.isUndef(c)&&n.doEligibleJobs(m)},l=function(e,t){var n={};n[e]=t,se.getAggregator().trigger("addOutputItem",{output:n},{minDt:!1})},f=function(e){ne.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],s=[],u=[],ne(e.sliceStatus).each((function(e){i.push(new xr(1)),s.push(0),r&&(o.push(new xr(1)),u.push(0))})))}(e),m(e))};return{start:function(){a=r?g:c,e.addMeasurementChangedListener(f)}}},Lr=function(e,t,n,r){var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}};var Ur=function(e,t,n,r){return function(i,o){var a,s,u,d=$r(o,t),c=Vr(n,e,o.rts).getCallbacks(),g=Pr(r.createPingJobs(o.type,o.timeInViewThresholds,c,o.metricId));return o.sendOtherwiseInViewSignal&&(u=$r(o,t,o.sendOtherwiseInViewSignal),s=Pr(r.createPingJobs(o.type,o.timeInViewThresholds,c,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=c,o.thresholdType===y.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?a=Fr(d,o,g,W.isVideo()):(a=Lr(d,xr(o.minUnit),g),o.sendOtherwiseInViewSignal&&Lr(u,xr(o.minUnit),s,o.sendOtherwiseInViewSignal).start()),a.start(),a}};var Gr=function(e,t,n,r){var i=Mr(e);return se.getAggregator().provide("viewabilityDefinitions",i),ne(i).map(Ur(e,t,n,r))};var Wr=function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger("addOutputItem",{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:"impression"})};var jr=function(){var e,t,n,r,i,o,a,s,u,d,c,g,m={};T.perf.markStart("in");var l=se.getAggregator();mr(),m.mFeatures=l.provide("features",He()),l.provide("mobileApp",(function(){return e=e||new Qe(m.mFeatures)})),l.provide("avidJsClient",(function(){return t=t||new Ze(B.getWindow())})),l.provide("context",W),m.mBrowser=l.provide("browser",(new rt).createInstance()),m.mErrors=l.request("mErrors"),m.mIds=l.provide("ids",it()),m.iOutput=ot(l),l.request("mJsonp"),m.mComm=l.request("mComm"),m.viewabilityMeasurement=new dt(jt(m.mIds),m.mFeatures,m.mBrowser).create();var f=l.request("omidAdSessionContext");return Wr(f,l),m.mFeatures.on("swapids")&&(T.oid=T.asid,T.asid=m.mIds.unq),m.mAdTalk=(new tn).createInstance(m.mFeatures),n=nn(),r=rn(l),i=l.provide("mPage",(new sn).createInstance()),m.mAncestorOrigins=un(),m.mPageUrls=l.provide("pageUrls",(new gn).createInstance(m.mAncestorOrigins,B)),o=l.provide("mScreenEvents",ln()),l.provide("ieXDomainViewability",fn(m.mBrowser)),a=pn(m.mBrowser),g=Sr(m.mFeatures,o),m.mVideo=l.provide("video",g),vn(On.build()),s=(new zn).createInstance(m.mErrors,a,m.mFeatures),u=(new Zn).createInstance(s,m.mErrors,i,W),d=l.provide("jobFactory",tr()),m.mDataTransfer=nr(s,m.mErrors,m.mFeatures,m.mIds,m.iOutput,m.mBrowser,o,n),c=rr(m.mErrors,m.mFeatures,l,r),m.mMode=ir(c,m.mFeatures,m.viewabilityMeasurement.isImmediate()),m.mViewability=l.provide("viewability",ar(oe(),m.viewabilityMeasurement,m.mBrowser,m.mDataTransfer,m.mFeatures,l,m.iOutput,u,o,m.mVideo)),Gr(m.mFeatures,m.mViewability,r,d),m.loopDelay=_e(),m.renderDetector=gr(),m.mDataTransfer.setViewabilityMod(m.mViewability),T.perf.markEnd("in"),m},Br=function(e,t){var n=function(e){var t=[];if(!(e&&e instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");return(t=ne(e).map((function(e,t){return t.val}))).push(T.adsafeSrc,T.requrl,T.reqquery),t};return{parse:function(r){try{var i,o=n(r),a=o&&o.length&&o.join("|"),s=T.exchList;a&&(i=ne(s).map((function(e,t){return a.indexOf(_.rot(t))>=0?e:void 0}))).length&&t.addItem({output:i.join(".")},"ex",{type:y.IMPRESSION_EVENT})}catch(t){e.add(y.ERROR_CODES.EXCHANGE_PARSING)}}}},kr=function(){return{parse:function(e){}}},Hr=function(){return{createInstance:function(e,t){return W.isDomless()?new kr:new Br(e,t)}}},Yr=function(e){var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,a=e.length,s=[];o<a;o++)r=t(e[o]),i=_.hashCode(r),n=ne.toBase(i,62).slice(-4),s.push(n);return s},decode:function(n){var r,i;return r=B.floor(B.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},qr=function(){return{isApplicable:function(e){var t=B.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=B.getWindow(),o=Yr(i.navigator.plugins),a=o.hash();n=a.join("."),se.getAggregator().trigger("addOutputItem",{output:n},"pl",{type:y.IMPRESSION_EVENT}),a.length&&(t=o.decode(a),r=t.join("."),se.getAggregator().trigger("addOutputItem",{output:r},"pd",{type:y.DT_CODES.ADTALK}))}}},Kr=function(){var e,t,n=!1,r=se.getAggregator().request("mPage"),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,se.getAggregator().trigger("sendDt",y.DT_CODES.LARGE_BILLABLE))};se.getAggregator().on("primaryadfound",(function(t){e=t.getDims().area()>=y.MRC_LARGE_AD_SIZE,i()})),se.getAggregator().on("impressionsent",(function(){t=!0,i()})),r.onHiddenChange(i)},Xr=function(){var e=T.asid,t=T.cookieBaseURL,n=T.protocol,r=function(e){ne(e).each((function(e,t){se.getAggregator().trigger("notify",t)}))},i=function(){var i,o=((i=new F(n+"://"+t,!0)).setParam("asid",e),i=i.toString());se.getAggregator().trigger("jsonp",o,r,!0),se.getAggregator().trigger("updateDtCount")};return{start:function(){se.getAggregator().on("sendCookie",i)},isApplicable:function(e){return e.on("cookie")&&e.bootstrapOn("sendCookie")&&e.bootstrapperHas(["protocol","cookieBaseURL","asid"])}}};var zr=function(e,t,n,r){var i;try{e.isApplicable(W)&&(e.start(),t.addItem(e.getFrameMap(),"fm"),n.on("fm2")&&t.addItem(e.getFrameMapIncludingPeerCase(),"fm2"),n.on("idMap")&&(i=e.getIdMap())&&t.addItem(i,"idMap"))}catch(e){r.add(y.ERROR_CODES.ADTALK_GENERAL)}};var Jr=function(e,t,n,r,i,o,a,s,u,d,c,g){var m,l,f;T.perf.markStart("pr"),T.b11="1"===T.adHeight&&"1"===T.adWidth?"true":"false",T.cnod=T.contextNode?"true":"false",se.getAggregator().trigger("addOutputItem",{output:g?"1":"0"},"nbld",{type:y.IMPRESSION_EVENT}),zr(n,r,u,i);try{o.isApplicable(a,u,d)&&o.start(),f=s.detectTopURL(),u.on("exch")&&(new Hr).createInstance(i,r).parse(f),(m=qr()).isApplicable(u)&&m.start(u),d.usesGroupMCustomMetric()&&Kr(),(l=Xr()).isApplicable(u)&&(l.start(),se.getAggregator().trigger("sendCookie")),c.start()}catch(e){i.add(y.ERROR_CODES.IMPRESSION_LEADUP)}return T.perf.markEnd("pr"),f},Qr=function(e,t,n){var r=t.getAvidIds(),i=["id:"+T.asid,"c:"+t.getCacheBustId(),"sl:"+e,"em:"+W.embedded,"fr:"+W.friendly];return n.on("avidPropertiesInImpression")&&ne.isDef(r)&&(i.push("abi:"+r.bundleIdentifier),i.push("apn:"+r.partner),i.push("apv:"+r.partnerVersion)),i},Zr=function(e,t,n,r,i,o,a){var s,u=[],d=se.getAggregator().request("mPage");return u.push("mn:"+T.mn),u.push("pt:"+function(){var t=a.stringifyPingTimes();return e.viewState!==y.NA&&(t+=e.details),t}()),u.push(ne(o.params()).toParams()),n.on("mrcAudit")&&!W.isDomless()&&u.push("dvs:"+B.getDoc().visibilityState),i.iterate((function(e,t){var n=!t.props||ne.isUndef(t.props.type),r=!t.props||t.props.type===y.IMPRESSION_EVENT;(n||r)&&u.push(e+":"+t.output())})),t.toString()&&u.push("e:"+t.toString()),u.push(n.output()),u.push("tt:"+T.mode),u.push("thd:"+ne.stringifyTriState(d.supportsVisAPI())),u.push("et:"+(B.now()-T.birthdate)),T.perf.mark("si"),n.on("swapids")?u.push("oid:"+T.oid):u.push("uid:"+r.unq),u.push("v:19.8.139"),u.push("sp:"+(T.isSplitMode?1:0)),u.push("fwm:"+("true"===T.fwMonitoring?1:0)),n.on("resolution")&&(u.push("wr:"+ne(C.windowSize()).toArray().join(".")),u.push("sr:"+ne(C.screenSize()).toArray().join("."))),"NotFound"!==(s=function(){var e,t=String(T.scriptUrl).toLowerCase(),n=t.indexOf("ias_xpc");if(n>-1){var r=t.substring(n+"ias_xpc".length+1),i=r.indexOf("&");e=i>-1?r.substring(0,i):r}else e="NotFound";return e||""}())&&u.push("x_xpc:"+s),u},ei=function(e,t,n,r,i,o,a,s){var u,d,c,g,m;return function(n){var r=n.primary.join(","),o=t,a=0,s=function(t){return o.length+t.length+5<=e},u=function(e){if(e)return","+e};return s(r)&&(o+=u(r),i.impressionIsIdentifiable(!0),ne(n.secondary).each((function(e,t){s(t)?o+=u(t):a+=1}))),o+=",ov:"+a}((g={viewState:y.NA},m=g,W.isDomless()?m=s.checkScreenLoc(!0)||g:r.on("impFailSafe")?B.getDoc().body&&(m=s.checkScreenLoc(!0)||g):ne.isDef(B.getDoc().body)&&(m=s.checkScreenLoc(!0)),s.isImmediatelyMeasurable()||s.requiresDelayedViewabilityEvent(),u=Qr((c=m).viewState,i,r),d=Zr(c,n,r,i,o,a,s),se.getAggregator().trigger("eligiblerender"),{primary:u,secondary:d}))},ti=function(e,t,n,r){var i,o,a=[],s=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},u=function(e){var i,o,s,u=e.val,d=e.key,c=(o=d,s="adsafe_url=".length+"&adsafe_type=".length+a.join("&").length+o.length+n,t-s);r&&c<u.length&&c>0&&(u=u.substr(0,c)),(u.length||""===e.val||""===e.type)&&function(e){var n=a.join("&").length;return e.length+n<=t}(i="adsafe_url="+u+"&adsafe_type="+d)&&a.push(i)};return e&&e.length&&(i=ne(e).map((function(e,t){if(s(t))return t})),o=ne(e).map((function(e,t){if(!s(t))return t})),ne(i.concat(o)).each((function(e,t){u(t)}))),a},ni=function(e,t,n,r,i,o,a){var s=function(e,t){return isNaN(e)||e<0||""===e?t:e},u=function(e){return"&"===e.slice(-1)?"":"&"},d=function(d){var c,g,m=r.baseUrl,l=("number"==typeof(g=o.getDocumentMode())?(c=2e3,8===g?c=4e3:g>8&&(c=8e3)):c=s(T.sp_imp_maxLength,2e3),c);return W.integratedBlockingApplies(m)&&(m=function(e){var t=se.getAggregator().request("mobileApp"),n=t&&t.isMobileAppEnvironment&&t.isMobileAppEnvironment(),r=e+"adContainerId="+T.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+T.contextNode.getAttribute("data-ias-callback");r=n?r.replace("monitoring","blocking"):r.replace("skeleton.js",T.integration+".js");var i=T.protocol+":"+T.staticServer+T.integration+"a.js",o=T.protocol+":"+T.staticServer+T.integration+".js";return r+"&true_pb="+encodeURIComponent(T.passback)+(n?"&redirectUrl="+encodeURIComponent(o):"")+(n?"&passback=":"&adsafe_pb=")+encodeURIComponent(i)+"&"}(m)),m=m.replace(y.UNIQUE_ID_TOKEN,T.asid),m+=function(n,r,i){var o,a=s(T.sp_imp_jsInfo_minLength,0),u="";try{(o=r-n-a)>0&&(u+=ti(i,o,"adsafe_jsinfo=".length,t.on("partialUrls")).join("&"))}catch(t){e.add(y.ERROR_CODES.IMPRESSION_URLS)}return u}(m.length,l,d),m+=u(m),m+=function(r,s){var u="";try{u+=ei(s-r,"adsafe_jsinfo=",e,t,n,i,o,a)}catch(t){e.add(y.ERROR_CODES.JSINFO),u+="adsafe_jsinfo=e:"+e.toString()}return u}(m.length,l),r.macroUrl&&(m+=u(m),m+=r.macroUrl),m};return{send:function(e){try{var t=d(e);r.sendImpression(t),T.impUrl=t,se.getAggregator().trigger("impressionsent")}catch(e){E("impsend",e,T)}}}};var ri=function(e,t,n,r,i,o,a,s,u){try{ni(e,t,n,r,i,o,a).send(s),ne.isFunction(u.triggerInitializationEvents)&&u.triggerInitializationEvents()}catch(e){E("impsend",e,T)}},ii=function(){var e=function(e){var t=[];return ne(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=C.getAncestorNodes(e);return ne(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return W.friendly&&!W.isMobileApp()&&((n=se.getAggregator().request("adSlotIds"))?r=n:(n=function(){var n,r;return(n=C.getOurNodeInTop())&&(r=t(n)),r=r&&e(r)}())&&(se.getAggregator().trigger("addOutputItem",{output:n},"slid",{type:y.DT_CODES.ADTALK,asION:!0}),se.getAggregator().provide("adSlotIds",n),r=n)),r}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.AD_SLOT_ID)}}()},oi=function(){var e,t=0,n=0,r=new oe(!0),i=function(){e&&(t++,r.trigger(t),n>t?B.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=ne.collapseArgsIntoHash(e,t);ne(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,B.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},ai=function(){var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():se.getAggregator().trigger("sendDt",y.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new oi,r=0,i(!0),t.start()},a=function(r,i,a,s){var u=n[r];s?(ne.isDef(u[i])||(u[i]=[]),u[i].push(a)):u[i]=a,t&&t.isActive()||o(),e=!0},s=function(n,r,i){se.getAggregator().trigger("addOutputItem",{output:r},n,i),t&&t.isActive()||o(),e=!0},u=function(t){ne(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};ne(i).isEmpty()||(se.getAggregator().trigger("addOutputItem",{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){se.getAggregator().on("preSendDt",(function(e){u(e),t&&t.kill()})),se.getAggregator().on("addThrottledProp",a),se.getAggregator().on("addThrottledOutputItem",s)},addFieldTypes:function(e){ne(e).each((function(e,t){n[t]={}}))}}};var si=function(){var e=ai();e.start(),e.addFieldTypes([y.DT_SLOT.IM,y.DT_SLOT.FF,y.DT_SLOT.ENVIRONMENT,y.DT_SLOT.FF_EXP])},ui=function(){return{start:function(e){se.getAggregator().on("measurable",(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(y.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},di=function(){return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},ci=function(e,t){return{onAll:function(n){var r={};ne(t).each((function(i,o){e.on(o,(function(){r[o]=1,ne(r).keys().length===t.length&&(r={},n())}))}))}}},gi=function(){return{start:function(e){ci(se.getAggregator(),["adImpression","measurable"]).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(y.BROWSERS.WEBKIT)||n)&&W.isVideo()}}},mi=function(){return{start:function(e){se.getAggregator().once("adImpression",(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&W.isVideo()}}},li=function(e,t,n){var r=!1,i=function(){t.impressionIsIdentifiable()&&!r&&(r=!0,se.getAggregator().trigger("notify",T._onMeasurable))};return{start:function(){var t,r=[mi(),gi(),di(),ui()];(t=ne(r).findFirst((function(t,r){return r.isApplicable(n,e)})))&&t.start(i)},isApplicable:function(e){return e.bootstrapOn("useViewabilityNotification")&&ne.isDef(T._onMeasurable)}}};var fi=function(e,t,n,r){var i=li(e,t,n);i.isApplicable(r)&&i.start()},pi=function(e,t,n,r,i){var o=function(e,t,n){i.addItem({output:e+"."+t+"."+n},"ctpl")},a=function(i){try{t.diagnostic("c");var a=i.length,s=0,u=0;o(a,0,0),ne(i).each((function(t,n){e.send(function(e){return e.replace("%%CBS%%",r.getCacheBustId())}(n),(function(){o(a,s,++u)}),!0),o(a,++s,u)}))}catch(e){n.add(y.ERROR_CODES.AT_SEND)}};return{init:function(){try{var t=(new F).fullDom;"/"!==t.slice(-1)&&(t+="/"),t+="tpl?asId="+T.asid,e.jsonp(t,a)}catch(e){n.add(y.ERROR_CODES.AT_INIT)}}}};var vi=function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&pi(t,n,r,i,o).init()},hi=function(e,t){return{init:function(n){e.jsonp(n,(function(e){t.send(y.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}};var Ei=function(){var e,t;T.isSplitMode&&(t=T.protocol+"://"+T.sp_cdnScripts.main,T.perf.markResource("md",t)),T.impUrl&&T.perf.markResource("id",T.impUrl),e=T.perf.getData(),se.getAggregator().trigger("addThrottledProp",y.DT_SLOT.IM,"prf",ne(e).toION())};var Ii=function(e,t,n,r,i,o){var a;try{T.perf.markStart("lt"),a={output:(new Date).getTime()-i},e.addItem(a,"sinceFw",{type:y.DT_CODES.ADTALK}),ne.isDef(t.loopStarted())&&e.addItem({output:t.loopStarted()},"readyFired",{type:y.DT_CODES.ADTALK}),T.perf.markEnd("lt"),Ei(),n.isApplicable(W)&&n.sendAdTalkCall()}catch(e){r.add(y.ERROR_CODES.ADTALK_DELAY)}};var Ai=function(e,t,n,r,i,o,a,s,u,d){try{if(T.perf.markStart("lo"),T.tpiLookupURL)hi(a,s).init(T.tpiLookupURL);W.isDomless()||d.isStarted()&&d.sendOriginList(),se.runAll(),B.execAtEndOfThread((function(){Ii(e,t,n,r,i,o)})),T.perf.markEnd("lo")}catch(e){r.add(y.ERROR_CODES.EVENT_LOOP_ONE)}};var Si=function(e,t,n,r,i,o,a,s,u){var d;"true"!==T.minimizeCalls&&(d=(new Date).getTime(),B.execAtEndOfThread((function(){Ai(e,t,n,r,d,i,o,a,s,u)})))};var Oi=function(e){e&&e.start&&e.start()},Di=function(){var e=function(e,t,n){e===T.asid&&(n.unshift(t),se.getAggregator().trigger.apply(null,n))};return{getMethod:function(t){return function(n){var r={asid:T.asid,constant:y,features:t,context:W,dtBaseURL:T.dtBaseURL,spg:Ue};"function"==typeof n&&n(e,r)}},getMethodName:function(e){return"register_"+e}}},Ti=function(e,t){var n,r=function(e){return e+"?t="+(new Date).getTime()+"&r="+Math.floor(1e5*Math.random())},i=/MSIE [1-9][^0-9]/g,o=function(){return!!navigator&&"string"==typeof navigator.userAgent&&-1!==navigator.userAgent.search(i)},a=function(){return"about:blank"};return function(t){var i;(n=C.createHiddenIframe()).setAttribute("src",a()),(e||T.contextNode.parentNode).appendChild(n),i=function(e){return e.contentWindow.document}(n);var s=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+(o()?r(t):t)+"'\">"].join("");i.open().write(s),i.close()}(t),{getWindow:function(){return n.contentWindow}}},_i=function(e,t){return{start:function(){try{var n=Di(),r=n.getMethodName(e),i=new F(t.getEnabledScriptUrl(e));new Ti((o=B.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){se.getAggregator().trigger("error",y.ERROR_CODES.FEATURE_SCRIPT)}var o}}},yi=function(){return{start:function(e,t){ne(e).each((function(e,n){t.getEnabledScriptUrl(n)&&_i(n,t).start()}))}}};var wi=function(e,t){e.isDomless()||yi().start(["sca","xsca","rsrch"],t)},Ni=function(){var e={},t=function(t){return!e[t]&&(e[t]=new or(1,T.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),se.getAggregator().trigger("addThrottledProp","im",e,n.getTime())};return{start:function(){se.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},Ri={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){se.getAggregator().trigger("measureTime",Ri.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){N.addEvent(v.a,"load",(function(){se.getAggregator().trigger("measureTime",Ri.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){var e=new oi;e.onTick({4:function(){se.getAggregator().trigger("markTime",Ri.IDS.IN_BROWSER_DELAY)},5:function(){se.getAggregator().trigger("measureTime",Ri.IDS.IN_BROWSER_DELAY)}}),e.start()}},Ci=Ri;var bi=function(e){var t=Ni();t.isApplicable(e)&&(t.start(),Ci.recordBlockingTime(),T.perf.mark("bl"),Ci.setupOnLoadTracking(),Ci.setupBrowserDelayTracking())};var Mi=function(e,t,n,r,i,o,a,s,u,d,c,g,m){try{T.perf.markStart("po"),si(),fi(e,t,n,r),vi(r,i,o,a,t,s),Si(s,u,d,a,r,i,o,t,g),Oi(c),wi(m,r),ii(),se.runTier(y.TIERS.VIEWABILITY),bi(r),T.perf.markEnd("po")}catch(e){a.add(y.ERROR_CODES.POST_IMPRESSION)}};var $i=function(e){var t,n;T.executedContinueMain||(T.executedContinueMain=!0,T.perf.markStart("cm"),ke(T).verifyContextNode(),n=jr(),t=Jr(n.mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,W,n.renderDetector,e),ri(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),Mi(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,W),T.perf.markEnd("cm"))};var Vi=function(e){var t=e&&e.sca,n=e&&e.xsca;return function(e){var r="string"==typeof e?JSON.parse(e):e;if(Object.assign)Object.assign(T,r);else for(var i in r)T[i]=r[i];T.isResolved=!0,T.sp_cdnScripts={sca:t,xsca:n},$i(T.isNewBuild)}};var Pi=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=e&&e.host||"https://jsconfig.adsafeprotected.com",n=e&&e.config;if(n){var r=t+"/jsconfig"+n+(T.adSessionId?"&adSessionId="+T.adSessionId:"");se.getAggregator().trigger("jsonp",r,Vi(e),!1,"cbName")}};var xi=function(e){T.isResolved?$i(T.isNewBuild):Pi(e)},Fi=function(){return{start:function(){var e=T.contextNode&&(T.contextNode.dataset.iasParameters||T.iasParameters);xi(e)}}},Li=function(e){var t=!1,n=!1,r=!1,i=!1,o=se.getAggregator().request("omidAdSessionContext");o.queuedOutputItems=[];var a=new vt,s=se.getAggregator().request("omidAdSessionVerificationParameters"),u=B.getWindow(),d=u&&u.omid3p,c=!!(d&&ne.isFunction(d.registerSessionObserver)&&ne.isFunction(d.addEventListener))?d:e,g=!1,m=function(){return s&&s.IAS&&Object.keys(s.IAS).length>0?s.IAS:s},l=function(){t&&n&&(!i||r)&&(v.a.omidSupported=!0,o.hasOwnProperty("impressionType")&&o.queuedOutputItems.push({code:"oiet",value:o.impressionType}),o.hasOwnProperty("creativeType")&&o.queuedOutputItems.push({code:"oct",value:o.creativeType}),xi(m()),g=!0)},f=function(e){var n;if("sessionStart"===e.type){o.adSessionType=e.data.context.adSessionType,o.environment=e.data.context.environment,o.accessMode=e.data.context.accessMode,o.omidNativeInfo=e.data.context.omidNativeInfo,o.omidJsInfo=e.data.context.omidJsInfo,o.deviceInfo=e.data.context.deviceInfo,o.app=e.data.context.app,o.app&&"string"==typeof o.app.appId&&o.app.appId.toLowerCase().indexOf("pandora")>-1&&(o.ignoreDivAsCandidate=!0),e.data.hasOwnProperty("contentUrl")&&(o.contentUrl=e.data.contentUrl),o.isJavaScript="javascript"===o.adSessionType,o.isNative="native"===o.adSessionType||"javascript"===o.adSessionType,o.isLimitedSandbox=W.embedded,o.isHtml="html"===e.data.context.adSessionType,o.isWeb="web"===e.data.context.environment,s=e.data.verificationParameters,n=o.isHtml&&o.isWeb,!e.data.hasOwnProperty("supportsLoadedEvent")||"true"!==e.data.supportsLoadedEvent&&!0!==e.data.supportsLoadedEvent||"string"!=typeof e.data.creativeType||""===e.data.creativeType?o.queuedOutputItems.push({code:"ohand",value:"12"}):(i=!0,o.useOMID13Logic=!0,o.queuedOutputItems.push({code:"ohand",value:"13"}));for(var r,a,u,d=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],c=0;c<d.length;c++)r=d[c].root,a=d[c].field,u=d[c].code,"object"==typeof o[r]&&void 0!==o[r][a]&&o.queuedOutputItems.push({code:u,value:o[r][a]});o.queuedOutputItems.push({code:"oast",value:o.adSessionType}),o.queuedOutputItems.push({code:"oacm",value:o.accessMode}),o.queuedOutputItems.push({code:"oenv",value:o.environment}),o.hasOwnProperty("contentUrl")&&o.queuedOutputItems.push({code:"ocon",value:encodeURIComponent(o.contentUrl||"")}),n?xi(m()):(t=!0,l())}if("sessionError"===e.type){var f="string"==typeof e.data.errorType?e.data.errorType:"NoErrType",p="string"==typeof e.data.message?e.data.message:"NoMessage",v=f+"_"+encodeURIComponent(p);g?se.getAggregator().trigger("addOutputItem",{output:v},"oser"):o.queuedOutputItems.push({code:"oser",value:v})}},p=function(e){o.mediaType=e.data.mediaType,o.queuedOutputItems.push({code:"omtp",value:o.mediaType}),"video"===e.data.mediaType&&(o.isVideo=!0),function(e){return e.data.viewport&&e.data.adView}(e)&&(o.impressionViewabilityMeasurement={data:{viewport:e.data.viewport,adView:e.data.adView}},void 0===o.geometryArrived&&a.checkForViewAttachmentBasedOnAdSessionType(o,e.data.adView)&&(o.geometryArrived=!0,se.getAggregator().trigger("omidrendgeoupdate"))),e.data.hasOwnProperty("impressionType")&&!o.hasOwnProperty("impressionType")&&(o.impressionType=e.data.impressionType),o.isNativeVideo=o.isNative&&"video"===e.data.mediaType,o.isDisplay="display"===e.data.mediaType,n=!0,l()},h=function(e){if(e&&"start"===e.type)return o.videoStartArrived=!0,void se.getAggregator().trigger("omidrendvideostart");"loaded"===e.type&&(r=!0,e.data.hasOwnProperty("creativeType")&&(o.creativeType=e.data.creativeType),e.data.hasOwnProperty("impressionType")&&(o.impressionType=e.data.impressionType),l())};return{start:function(){c.addEventListener("media",h),c.addEventListener("video",h),c.registerSessionObserver(f,"IAS"),c.addEventListener("impression",p)}}},Ui=function(){var e;return{isApplicable:function(t){var n=!(!(e=se.getAggregator().request("omidAdSessionContext")).app||!e.isDisplay||e.isWeb),r=t&&t.indexOf("/blocking/")>-1&&!W.integratedBlockingApplies(t);return n&&r},deployBlockingScriptIntoIframe:function(t){e=se.getAggregator().request("omidAdSessionContext");var n,r="iasbi"+T.asid,i=function(e,t){var n,r,i,o=T.contextNode.parentNode,a="about:blank",s=T.adWidth&&T.adWidth>0?T.adWidth:0,u=T.adHeight&&T.adHeight>0?T.adHeight:0,d=B.getDoc().getElementsByTagName("ins"),c=0,g=0;d&&d.length>0&&(i=d[0],c=parseInt(i.style.width),g=parseInt(i.style.height));var m=c||s||window.innerWidth,l=g||u||window.innerHeight;return"complete"===B.getDoc().readyState&&(T.forceAppend="true"),"true"===T.forceAppend?((n=B.getDoc().createElement("IFRAME")).id=e,n.src=a,o.appendChild(n)):B.getDoc().write('<iframe id="'+e+'" src="'+a+'"></iframe>'),(r=B.getDoc().getElementById(e))&&(r.style.width=m+"px",r.style.height=l+"px",r.scrolling="no",r.frameborder=0,r.style.position="absolute",r.style.padding=r.style.margin=r.style.border="0px"),r}(r);i&&(n=i.contentWindow.document)&&(n.open().write(function(e,t){var n,r="",i="",o=B.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var a=0;a<n.attributes.length;a++)r+=" "+n.attributes[a].nodeName+'="'+n.attributes[a].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'"><\/script>'+i+"</body></html>"}(r,t)),n.close())}}},Gi=function(e,t){var n=function(e,t){var n,r,i,o={script:['<script type="text/javascript" src="','"><\/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']};function a(e,t,n){var r,i;"script"!==e?((i=document.createElement("DIV")).innerHTML=n,r=i.childNodes[0]):(r=document.createElement("SCRIPT")).src=t,T.contextNode.parentNode.appendChild(r)}t=t||e,r=(n=o[e=arguments.length>1?e:"script"])[0]+t+n[1],W.isOmid()?(i=new Ui).isApplicable(t)?i.deployBlockingScriptIntoIframe(t):a(e,t,r):"true"===T.forceAppend?a(e,t,r):document.write(r)},r=function(e,t,n){var r,i=!n&&N.getXHR2();i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=C.createImage(),t&&(r.onload=t),r.src=e)},i=function(e,t,n,r){var i=document.createElement("script");n=n||T.contextNode.parentNode,i.type="text/javascript",i.src=e,t&&(i.onload=t),r&&(i.setAttribute("defer",""),i.setAttribute("async","")),ne.isDef(n)&&n.appendChild(i)},o=function(e){if(ne.isFunction(e))e({iasImpId:T.asid});else if(e&&"string"==typeof e){var t=new F(e,!0).toString();r(t,void 0,!0)}},a=function(e,n,r,o){i(t.wrap(e,n,r,o))};return se.getAggregator().on({addNode:n,send:r,exec:i,notify:o,jsonp:a}),{addNode:n,send:r,exec:i,notify:o,jsonp:a}},Wi=function(e){var t=function(e,t){t=t||e,e=arguments.length>1?e:"script";var n=se.getAggregator().request("omidVerificationClient");n["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},n=function(e,t){e=encodeURI(e),se.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})},r=function(e,t){se.getAggregator().request("omidVerificationClient").injectJavaScriptResource(e,t||function(){})},i=function(e){if(ne.isFunction(e))e({iasImpId:T.asid});else if(e&&"string"==typeof e){var t=new F(e,!0).toString();n(t)}},o=function(t,n,i,o){r(e.wrap(t,n,i,o))};return se.getAggregator().on({addNode:t,send:n,exec:r,notify:i,jsonp:o}),{addNode:t,send:n,exec:r,notify:i,jsonp:o}},ji=function(){return{createInstance:function(e,t){return W.isDomless()?new Wi(t):new Gi(e,t)}}},Bi=function(){var e={},t=function(t){ne.isDef(e[t])?e[t]++:e[t]=1};return se.getAggregator().on("error",(function(e){var n=ne(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}};var ki=function(e){var t,n,r,i,o,a,s;T.perf.markStart("mf"),T.isNewBuild=e,Ge(),se.startSystem();var u=se.getAggregator();i={},o={},u.provide({omidAdSessionContext:i}),u.provide({omidAdSessionVerificationParameters:o}),t=Bi(),n=lr(),r=(new ji).createInstance(t,n),u.provide({mErrors:t,mJsonp:n,mComm:r}),a=h,u.provide({omidVerificationClient:a}),s=[{environment:U(a),adSessionReadyStrategy:Li(a)},{environment:je(),adSessionReadyStrategy:Fi()}],new We(s).resolve().adSessionReadyStrategy.start(),T.perf.markEnd("mf")};try{var Hi="undefined"!=typeof window?window.__IASScope:__IASScope;E=function(){},I(Hi.__IntegralASConfig),S(Hi.__IntegralASConfig,Hi),Hi.__IntegralASConfig.contextNode=Hi.isDomless?void 0:Hi.__IntegralASConfig.contextNode||O(Hi.__IntegralASConfig,Hi.document)(window,top),Hi.__IntegralASConfig.perf=D(Hi.__IntegralASConfig),Hi.__IntegralASConfig.initialize=function(e){var t={};if(Object.assign)e=Object.assign({},e);else{for(var n in e)t[n]=e[n];e=t}try{ki(!0)}catch(t){E("main",t,e)}};try{Hi.__IntegralASConfig.useFIF?v.a=Hi.parent:v.a=Hi;try{Hi.isSingleIASInstance&&Hi.iasAdSlots?Hi.iasAdSlots.forEach((function(e){Hi.__IntegralASConfig._cl_adpath=e.adSelector,Hi.__IntegralASConfig.iasParameters=e.iasParameters,Hi.__IntegralASConfig.initialize(Hi.__IntegralASConfig)})):Hi.__IntegralASConfig.initialize(Hi.__IntegralASConfig)}catch(e){Hi.__IntegralASConfig.initialize(Hi.__IntegralASConfig)}}catch(e){E("initialize",e,Hi.__IntegralASConfig)}}catch(e){Hi.__IntegralASConfig={},E("bootstrapper",e)}}]);
} catch(err) {}
